{"version":3,"sources":["components/modifiableKonvaShapes/modifiableKonvaShapes.service.ts","components/modifiableKonvaShapes/ModifiableLine.tsx","components/Grid/Grid.tsx","components/modifiableKonvaShapes/ModifiableArrow.tsx","components/modifiableKonvaShapes/ModifiableText.tsx","components/Axes/Axes.tsx","errors/UndefinedZCoordinateError.ts","util/math.ts","components/App/App.service.ts","components/CustomCanvas/CustomCanvas.tsx","components/PageWraper/PageWrapper.tsx","components/labsPages/Lab1/Shape.ts","components/DimensionsForm/Input/Input.tsx","components/CheckboxesForm/Checkbox.tsx","components/DimensionsForm/Input/Input.service.ts","components/DimensionsForm/InputsGroup.tsx","components/DimensionsForm/FormTabContent.tsx","components/DimensionsForm/DimensionsForm.tsx","components/LeftSideWrapper/LeftSideWrapper.tsx","components/modifiableKonvaShapes/ModifiableLinePicture.tsx","components/labsPages/Lab1/Picture.tsx","components/labsPages/Lab1/Lab1.tsx","components/Header/Header.tsx","components/labsPages/Lab2/Asymptote.tsx","components/labsPages/Lab2/DescartesFolium.ts","components/labsPages/Lab2/Phi0Line.tsx","components/modifiableKonvaShapes/ModifiableCircle.tsx","components/labsPages/Lab2/Phi0Point.tsx","components/labsPages/Lab2/Tangent.tsx","components/labsPages/Lab2/Normal.tsx","components/LineCollapse/LineCollapse.tsx","components/InfoBlock/InfoBlock.tsx","components/CheckboxesForm/CheckboxesForm.tsx","components/labsPages/Lab2/Lab2.tsx","components/labsPages/Lab2/Lab2.service.ts","components/Pivot/Pivot.tsx","components/modifiableKonvaShapes/ModifiableBezier/ModifiableBezier.service.ts","components/modifiableKonvaShapes/ModifiableBezier/ModifiableBezier.tsx","components/labsPages/Lab3/Picture/SupportingLines.tsx","components/modifiableKonvaShapes/ModifiableDndOptions.ts","components/labsPages/Lab3/Picture/SupportingPoints/SupportingPoints.service.ts","components/labsPages/Lab3/Picture/SupportingPoints/SupportingPoints.tsx","components/labsPages/Lab3/Picture/Picture.tsx","components/labsPages/Lab3/picturesParts.ts","components/labsPages/Lab3/Lab3.service.ts","components/labsPages/Lab3/Lab3.tsx","components/labsPages/Lab5/picturesLines.ts","components/labsPages/Lab5/Lab5.tsx","components/labsPages/Lab6/Lab6.service.ts","components/labsPages/Lab6/Lab6.tsx","components/App/App.tsx","util/serviceWorker.ts","index.tsx","assets/examples/example1.png","assets/examples/example2.png","assets/examples/example3-1.png","assets/examples/example3-2.png","assets/examples/example5.png"],"names":["getPoints","from","to","x","y","getMultiplePoints","flatMap","value","applyModifiers","point","modifiers","reduce","result","modifier","z","ModifiableLine","points","color","rest","modifiedPoints","map","startPoint","endPoints","slice","stroke","Grid","maxCoord","cellLength","getGridLine","start","end","key","strokeWidth","lines","push","startY","startX","ModifiableArrow","fill","ModifiableText","position","Axes","getArrow","pointerLength","pointerWidth","getText","axeName","text","fontFamily","fontSize","UndefinedZCoordinateError","Error","degreesToRad","degrees","Math","PI","bindCreateOnePointPerspective","viewPoint","undefined","t","bindOffsetPoint","offset","bindRotatePointByDegreesWithPivot","pivot","func","rotate","rad","cos","sin","bindRotatePointByDeegrees","basePoint","modifiedPoint","bindAffinePoint","r0","rX","rY","bindProjectivePoint","w0","w","CustomCanvas","children","width","height","Col","md","className","PageWrapper","Shape","R","L1","L2","L3","L4","this","circleLines","getCircleLine","xStart","yStart","getCircleY","L1ExcludeCircle","scale","circleLineLength","circleCenter","sqrt","abs","CheckboxType","Input","title","min","unit","step","setValue","Form","Group","as","Row","Label","column","Control","type","required","onChange","event","newValue","parseFloat","target","Number","isNaN","isValidValue","InputsGroup","inputs","FormTabContent","inputsGroups","groupIndex","length","DimensionsForm","tabs","defaultTab","onSelect","Tabs","transition","AccordionCollapse","defaultActiveKey","Tab","eventKey","tabClassName","LeftSideWrapper","ModifiableLinePicture","Picture","shape","getOuterShapePoints","closed","getInnerShapeLines","Lab1","onSelectTab","canvasWidth","canvasHeight","defaultCanvasElements","useState","setR","setL1","setL2","setL3","setL4","allTabs","src","exampleImage","alt","style","Header","Navbar","bg","Nav","Link","href","process","Asymptote","descartesFolium","getAsymtoteSecondCoordParam","DescartesFolium","a","param","phi","getT","phi0","getPoint","dPoint","getDerivativePoint","ddPoint","getSecondDerivativePoint","tan","Phi0Line","f","invert","ModifiableCircle","dndOptions","draggable","getDraggable","onDragStart","getOnDragStart","onDragEnd","getOnDragEnd","onDragMove","getOnDragMove","Phi0Point","radius","Tangent","defaultProps","bindGetTangentY","Normal","bindGetNormalY","LineCollapse","defaultDisplay","display","setDisplay","onClick","aria-label","Collapse","in","InfoBlock","records","disabled","Check","custom","id","label","checked","checkboxes","checkbox","Checkbox","Lab2","setA","setPhi0","isEnableAsymptote","setEnabledAsymptote","isEnableTangent","setEnabledTangent","isEnableNormale","setEnabledNormale","infoRecords","calculateS","calculateCurvatureR","toFixed","curveLines","firstBranchPoints","secondBranchPoints","i","getCurveLines","CheckboxesForm","Pivot","fixBezierOrder","buildBezierLine","bezierTailPoints","tail","ModifiableBezier","modifiedBezierTailsPoints","bezierEndPoint","bezierLines","firstLine","otherLines","currentTailPoints","prevLinePoints","prevTailPoints","prevEndPoint","line","bezier","SupportingLines","flatten","pointsPair","ModifiableDndOptions","options","onDragAction","getPointFromEvent","onPointMove","parts","setParts","draggedPoint","pointIndex","part","partIndex","newPart","cloneDeep","newParts","clone","splice","replaceDraggedPoint","isContinuous","prevIndex","nextIndex","prevPart","nextPart","newPrevPart","getContinuousPart","newNextPart","replaceContinuousPoint","anotherPart","newAnotherPart","bezierPoint","calclulateContinuousBezierPoint","getPointColor","SupportingPoints","pointsRadius","isEnabledDragging","dndModifiers","buildDndOptions","isEnabledSupportingLines","normalizePicturePart","picturePart","tuples","sharkParts","swanParts","getFrames","pictureParts1","pictureParts2","framesAmount","points1","points2","diff","fixPointsAmountDifference","frames","range","frameCount","j","Lab3","setEnabledSupportingLines","sharkOrSwan","setSharkOrSwan","framesCounter","setFramesCounter","currentInterval","setCurrentInterval","setFrames","useEffect","clearInterval","SWITCH","interval","setInterval","exampleImage1","exampleImage2","mapArrayToCoord","Lab5","getModifiers","setViewPoint","L","setL","H","setH","R1","setR1","R2","setR2","W","setW","houseLines","l","h","rl1","rl2","Wl","getHouseLines","getY","b","Lab6","gridDensity","setGridDensity","setB","pictureLines","pointsLine","getEllipticParaboloidLines","canvasCenter","defaultAxesModifiers","normalizeVectorValue","vector","App","currentTabName","setCurrentTabName","setEnabledDragging","setCellLength","setStep","setOffset","rotateDegrees","setRotateDegrees","setPivot","affine","setAffine","normalizedAffine","useMemo","projective","setProjective","normalizedProjective","normalizedProjectiveForAxes","axesModifiers","setAxesModifiers","gridModifiers","setGridModifiers","getShapeModifiers","customModifiers","defaultDndModifiers","pivotDndModifiers","shapeDndModifiers","linearTransformationTabs","common","euclid","defaultLabProps","Object","values","lab1","lab2","lab3","lab5","lab6","basename","exact","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message","module","exports"],"mappings":"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","file":"static/js/main.3abc110c.chunk.js","sourcesContent":["import Coord from '../../types/Coord';\nimport PointModifier from '../../types/PointModifier';\n\nexport function getPoints(from: Coord, to: Coord): number[] {\n  return [to.x - from.x, to.y - from.y];\n}\n\nexport function getMultiplePoints(from: Coord, to: Coord[]): number[] {\n  return to.flatMap((value) => getPoints(from, value));\n}\n\nexport function applyModifiers(\n  point: Coord,\n  modifiers: PointModifier[]\n): Coord {\n  return modifiers.reduce((result, modifier) => {\n    const value = modifier(result);\n    return {\n      ...value,\n      z: value.z ?? result.z,\n    };\n  }, point);\n}\n","import React, { FunctionComponent } from 'react';\nimport { Line } from 'react-konva';\nimport Coord from '../../types/Coord';\nimport { ModifiableLinearShape } from '../../types/ModifiableShape';\nimport {\n  applyModifiers,\n  getMultiplePoints,\n} from './modifiableKonvaShapes.service';\n\nexport interface Line {\n  points: Coord[];\n}\n\ntype Props = Line & ModifiableLinearShape;\n\nconst ModifiableLine: FunctionComponent<Props> = ({\n  points,\n  modifiers,\n  color,\n  ...rest\n}) => {\n  const modifiedPoints = modifiers\n    ? points.map((point) => applyModifiers(point, modifiers))\n    : points;\n\n  const startPoint = modifiedPoints[0];\n  const endPoints = getMultiplePoints(startPoint, modifiedPoints.slice(1));\n\n  return (\n    <Line\n      x={startPoint.x}\n      y={startPoint.y}\n      points={[0, 0, ...endPoints]}\n      stroke={color || 'black'}\n      {...rest}\n    />\n  );\n};\n\nexport default ModifiableLine;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../types/Coord';\nimport PointModifier from '../../types/PointModifier';\nimport ModifiableLine from '../modifiableKonvaShapes/ModifiableLine';\n\ninterface Props {\n  maxCoord: Coord;\n  cellLength: number;\n  modifiers?: PointModifier[];\n}\n\nconst Grid: FunctionComponent<Props> = ({\n  maxCoord,\n  cellLength,\n  modifiers,\n}) => {\n  const getGridLine = (start: Coord): JSX.Element => {\n    const end: Coord = {\n      x: start.x === -maxCoord.x ? maxCoord.x : start.x,\n      y: start.y === -maxCoord.y ? maxCoord.y : start.y,\n    };\n\n    return (\n      <ModifiableLine\n        key={`${start.x}_${start.y}`}\n        points={[start, end]}\n        modifiers={modifiers}\n        strokeWidth={0.3}\n      />\n    );\n  };\n\n  const lines = [];\n\n  lines.push(getGridLine({ x: -maxCoord.x, y: 0 }));\n  lines.push(getGridLine({ x: 0, y: -maxCoord.y }));\n  for (let startY = cellLength; startY < maxCoord.y; startY += cellLength) {\n    lines.push(getGridLine({ x: -maxCoord.x, y: startY }));\n    lines.push(getGridLine({ x: -maxCoord.x, y: -startY }));\n  }\n  for (let startX = cellLength; startX < maxCoord.x; startX += cellLength) {\n    lines.push(getGridLine({ x: startX, y: -maxCoord.y }));\n    lines.push(getGridLine({ x: -startX, y: -maxCoord.y }));\n  }\n\n  return <>{lines}</>;\n};\n\nexport default Grid;\n","import React, { FunctionComponent } from 'react';\nimport { Arrow } from 'react-konva';\nimport Coord from '../../types/Coord';\nimport { ModifiableLinearShape } from '../../types/ModifiableShape';\nimport { applyModifiers, getPoints } from './modifiableKonvaShapes.service';\n\ninterface Props extends ModifiableLinearShape {\n  from: Coord;\n  to: Coord;\n  pointerLength?: number;\n  pointerWidth?: number;\n}\n\nconst ModifiableArrow: FunctionComponent<Props> = ({\n  from,\n  to,\n  modifiers,\n  color,\n  ...rest\n}) => {\n  const points = modifiers\n    ? [from, to].map((point) => applyModifiers(point, modifiers))\n    : [from, to];\n\n  return (\n    <Arrow\n      x={points[0].x}\n      y={points[0].y}\n      points={[0, 0, ...getPoints(points[0], points[1])]}\n      stroke={color}\n      fill={color}\n      {...rest}\n    />\n  );\n};\n\nexport default ModifiableArrow;\n","import React, { FunctionComponent } from 'react';\nimport { Text } from 'react-konva';\nimport Coord from '../../types/Coord';\nimport { ModifiableShape } from '../../types/ModifiableShape';\nimport { applyModifiers } from './modifiableKonvaShapes.service';\n\ninterface Props extends ModifiableShape {\n  position: Coord;\n  text?: string;\n  fontFamily?: string;\n  fontSize?: number;\n}\n\nconst ModifiableText: FunctionComponent<Props> = ({\n  position,\n  modifiers,\n  color,\n  ...rest\n}) => {\n  const { x, y } = modifiers ? applyModifiers(position, modifiers) : position;\n\n  return <Text x={x} y={y} fill={color} {...rest} />;\n};\n\nexport default ModifiableText;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../types/Coord';\nimport PointModifier from '../../types/PointModifier';\nimport ModifiableArrow from '../modifiableKonvaShapes/ModifiableArrow';\nimport ModifiableText from '../modifiableKonvaShapes/ModifiableText';\n\ninterface Props {\n  maxCoord: Coord;\n  modifiers?: PointModifier[];\n}\n\nconst Axes: FunctionComponent<Props> = ({ maxCoord, modifiers }) => {\n  const getArrow = (start: Coord, end: Coord) => (\n    <ModifiableArrow\n      from={start}\n      to={end}\n      modifiers={modifiers}\n      strokeWidth={0.9}\n      pointerLength={15}\n      pointerWidth={8}\n      color=\"grey\"\n    />\n  );\n\n  const getText = (axeName: string, position: Coord) => (\n    <ModifiableText\n      position={position}\n      modifiers={modifiers}\n      text={axeName}\n      fontFamily=\"sans-serif\"\n      fontSize={25}\n      color=\"grey\"\n    />\n  );\n\n  return (\n    <>\n      {getText('x', { x: maxCoord.x - 13, y: 0 })}\n      {getArrow({ x: -maxCoord.x, y: 0 }, { x: maxCoord.x - 15, y: 0 })}\n      {getText('y', { x: 2, y: maxCoord.y })}\n      {getArrow({ x: 0, y: -maxCoord.y }, { x: 0, y: maxCoord.y - 23 })}\n    </>\n  );\n};\n\nexport default Axes;\n","export default class UndefinedZCoordinateError extends Error {\n  constructor() {\n    super('Z coordinate is required but it is undefined.');\n  }\n}\n","import UndefinedZCoordinateError from '../errors/UndefinedZCoordinateError';\nimport PointModifier from '../types/PointModifier';\n\nexport function degreesToRad(degrees: number): number {\n  return degrees * (Math.PI / 180);\n}\n\nexport function bindCreateOnePointPerspective(\n  viewPoint: number\n): PointModifier {\n  return ({ x, y, z }) => {\n    if (z === undefined) {\n      throw new UndefinedZCoordinateError();\n    }\n\n    const r = 1 / viewPoint;\n    const t = -r * z + 1;\n\n    return {\n      x: x / t,\n      y: y / t,\n      z: 0,\n    };\n  };\n}\n","import Coord from '../../types/Coord';\nimport Affine from '../../types/Affine';\nimport PointModifier from '../../types/PointModifier';\nimport Projective from '../../types/Projective';\nimport { degreesToRad } from '../../util/math';\n\n/**\n * Convert coordinate in pixels to ratio to axes max coordinates\n *\n * @param vector Coordinate value in pixels\n * @returns Ratio of vector to axes max coordinates\n */\nexport function bindNormalizeVectorValueToAxesMaxCoord(\n  maxCoord: Coord\n): PointModifier {\n  return (vector) => ({\n    x: vector.x / maxCoord.x,\n    y: vector.y / maxCoord.y,\n  });\n}\n\nexport function bindInvertY(): PointModifier {\n  return ({ x, y }) => ({ x, y: -y });\n}\n\nexport function bindOffsetPoint(offset: Coord): PointModifier {\n  return ({ x, y }) => ({\n    x: x + offset.x,\n    y: y + offset.y,\n  });\n}\n\nfunction bindCalculateWithOffset(\n  func: PointModifier,\n  offset: Coord\n): PointModifier {\n  return (point) => {\n    const basePoint = {\n      x: point.x - offset.x,\n      y: point.y - offset.y,\n    };\n\n    const modifiedPoint = func(basePoint);\n\n    return {\n      x: modifiedPoint.x + offset.x,\n      y: modifiedPoint.y + offset.y,\n    };\n  };\n}\n\nexport function bindRotatePointByDegreesWithPivot(\n  degrees: number,\n  pivot: Coord\n): PointModifier {\n  const rotate = bindRotatePointByDeegrees(degrees);\n\n  return bindCalculateWithOffset(rotate, pivot);\n}\n\nexport function bindRotatePointByDeegrees(degrees: number): PointModifier {\n  const rad = degreesToRad(degrees);\n\n  return ({ x, y }) => ({\n    x: x * Math.cos(rad) - y * Math.sin(rad),\n    y: x * Math.sin(rad) + y * Math.cos(rad),\n  });\n}\n\nexport function bindAffinePoint({ r0, rX, rY }: Affine): PointModifier {\n  return ({ x, y }) => ({\n    x: r0.x + x * rX.x + y * rY.x,\n    y: r0.y + x * rX.y + y * rY.y,\n  });\n}\n\nexport function bindProjectivePoint({\n  r0,\n  rX,\n  rY,\n  w0,\n  w,\n}: Projective): PointModifier {\n  return ({ x, y }) => ({\n    x: (r0.x * w0 + x * rX.x * w.x + y * rY.x * w.y) / (w0 + x * w.x + y * w.y),\n    y: (r0.y * w0 + x * rX.y * w.x + y * rY.y * w.y) / (w0 + x * w.x + y * w.y),\n  });\n}\n","import React, { FunctionComponent } from 'react';\nimport { Col } from 'react-bootstrap';\nimport { Layer, Stage } from 'react-konva';\n\ninterface Props {\n  width: number;\n  height: number;\n}\n\nconst CustomCanvas: FunctionComponent<Props> = ({\n  children,\n  width,\n  height,\n}) => (\n  <Col>\n    <Stage width={width} height={height}>\n      <Layer>{children}</Layer>\n    </Stage>\n    <Col md={2} className=\"border rounded-bottom bg-light ml-2 text-center\">\n      {width}✕{height}\n    </Col>\n  </Col>\n);\n\nexport default CustomCanvas;\n","import React, { FunctionComponent } from 'react';\n\nconst PageWrapper: FunctionComponent = ({ children }) => (\n  <div className=\"d-flex justify-conten`t-between my-3 mx-5\">{children}</div>\n);\n\nexport default PageWrapper;\n","import Coord from '../../../types/Coord';\nimport { Line } from '../../modifiableKonvaShapes/ModifiableLine';\n\ninterface ConstructorArgs {\n  R: number;\n  L1: number;\n  L2: number;\n  L3: number;\n  L4: number;\n}\n\nexport default class Shape {\n  private R: number;\n  private L1: number;\n  private L2: number;\n  private L3: number;\n  private L4: number;\n\n  constructor({ R, L1, L2, L3, L4 }: ConstructorArgs) {\n    this.R = R;\n    this.L1 = L1;\n    this.L2 = L2;\n    this.L3 = L3;\n    this.L4 = L4;\n  }\n\n  getInnerShapeLines(): Line[] {\n    const { L1, L2, R } = this;\n    const circleLineLength = 1;\n\n    const circleLines = [];\n\n    for (let x = -R; x < R; x += circleLineLength) {\n      if (x > L2 / 2 || x < -L2 / 2) {\n        circleLines.push(this.getCircleLine(x, 1, circleLineLength));\n      }\n      circleLines.push(this.getCircleLine(x, -1, circleLineLength));\n    }\n\n    const xStart = -L2 / 2;\n    const yStart = this.getCircleY(xStart, 1);\n    const L1ExcludeCircle = L1 / 2 + yStart;\n\n    const innerLine: Line = {\n      points: [\n        { x: xStart, y: yStart },\n        { x: xStart, y: yStart + L1 - L1ExcludeCircle + R / 2 },\n        {\n          x: xStart + L2,\n          y: yStart + L1 - L1ExcludeCircle + R / 2,\n        },\n        { x: xStart + L2, y: yStart },\n      ],\n    };\n\n    return [innerLine, ...circleLines];\n  }\n\n  private getCircleLine(\n    x: number,\n    scale: number,\n    circleLineLength: number\n  ): Line {\n    return {\n      points: [\n        { x, y: this.getCircleY(x, scale) },\n        {\n          x: x + circleLineLength,\n          y: this.getCircleY(x + circleLineLength, scale),\n        },\n      ],\n    };\n  }\n\n  private getCircleY(x: number, scale: number): number {\n    const circleCenter: Coord = { x: 0, y: -this.L1 / 2 };\n    return (\n      Math.sqrt(Math.abs(this.R ** 2 - (x - circleCenter.x) ** 2)) * scale +\n      circleCenter.y\n    );\n  }\n\n  getOuterShapePoints(): Coord[] {\n    const { L1, L3, L4, R } = this;\n\n    const start: Coord = {\n      x: -L3 / 2,\n      y: -L1 / 2,\n    };\n\n    return [\n      start,\n      { x: start.x, y: start.y + L1 },\n      { x: start.x - (L4 - L3) / 2, y: start.y + L1 },\n      { x: start.x - (L4 - L3) / 2, y: start.y + L1 + R },\n      { x: start.x, y: start.y + L1 + R + R / 2 },\n      { x: start.x + L3, y: start.y + L1 + R + R / 2 },\n      { x: start.x + L3 + (L4 - L3) / 2, y: start.y + L1 + R },\n      { x: start.x + L3 + (L4 - L3) / 2, y: start.y + L1 },\n      { x: start.x + L3, y: start.y + L1 },\n      { x: start.x + L3, y: start.y },\n      { x: start.x + L3 + (L4 - L3) / 2, y: start.y },\n      { x: start.x + L3 + (L4 - L3) / 2, y: start.y - R },\n      { x: start.x + L3, y: start.y - R - R / 2 },\n      { x: start.x, y: start.y - R - R / 2 },\n      { x: start.x - (L4 - L3) / 2, y: start.y - R },\n      { x: start.x - (L4 - L3) / 2, y: start.y },\n    ];\n  }\n}\n","import React, { FunctionComponent } from 'react';\nimport { Form, Row, Col } from 'react-bootstrap';\nimport { isValidValue } from './Input.service';\n\nexport interface FormInput {\n  title: string;\n  value: number;\n  min?: number;\n  unit?: string;\n  step?: number;\n  setValue(value: number): void;\n}\n\nconst Input: FunctionComponent<FormInput> = ({\n  title,\n  value,\n  min,\n  unit,\n  step,\n  setValue,\n}) => (\n  <Form.Group as={Row} key={title}>\n    <Form.Label column md={4}>\n      {title}\n    </Form.Label>\n    <Col md={6}>\n      <Form.Control\n        type=\"number\"\n        min={min}\n        step={step}\n        required\n        value={value}\n        onChange={(event) => {\n          const newValue = parseFloat(event.target.value);\n          if (isValidValue(newValue, { min })) {\n            setValue(newValue);\n          }\n        }}\n      />\n    </Col>\n    <Form.Label className=\"px-0\" column>\n      {unit || 'px'}\n    </Form.Label>\n  </Form.Group>\n);\n\nexport default Input;\n","import React, { FunctionComponent } from 'react';\nimport { Form, Row, Col } from 'react-bootstrap';\n\nexport enum CheckboxType {\n  CHECKBOX = 'checkbox',\n  SWITCH = 'switch',\n}\n\nexport interface FormCheckbox {\n  title: string;\n  value: boolean;\n  setValue(value: boolean): void;\n  type?: CheckboxType;\n  disabled?: boolean;\n  onClick?: () => void;\n}\n\nconst Input: FunctionComponent<FormCheckbox> = ({\n  title,\n  value,\n  setValue,\n  type,\n  disabled,\n  onClick,\n}) => (\n  <Form.Group as={Row} key={title}>\n    <Form.Label column>{title}</Form.Label>\n    <Col md={3} className=\"d-flex align-items-center justify-content-center\">\n      <Form.Check\n        custom\n        id={title}\n        label=\"\"\n        type={type}\n        disabled={disabled}\n        checked={value}\n        onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n          setValue(event.target.checked)\n        }\n        onClick={onClick}\n      />\n    </Col>\n  </Form.Group>\n);\n\nexport default Input;\n","// eslint-disable-next-line import/prefer-default-export\nexport function isValidValue(\n  value: number,\n  { min }: { min?: number }\n): boolean {\n  return Number.isNaN(value) || typeof min !== 'number' || value >= min;\n}\n","import React, { FunctionComponent } from 'react';\nimport Input, { FormInput } from './Input';\n\ninterface Props {\n  inputs: FormInput[];\n}\n\nconst InputsGroup: FunctionComponent<Props> = ({ inputs }) => {\n  return (\n    <>\n      {inputs.map(({ title, ...rest }) => (\n        <Input key={title} title={title} {...rest} />\n      ))}\n    </>\n  );\n};\n\nexport default InputsGroup;\n","import React, { FunctionComponent } from 'react';\nimport { Form } from 'react-bootstrap';\nimport { FormInput } from './Input';\nimport InputsGroup from './InputsGroup';\n\ninterface Props {\n  inputsGroups: FormInput[][];\n}\n\nconst FormTabContent: FunctionComponent<Props> = ({ inputsGroups }) => {\n  return (\n    <Form className=\"border border-top-0 rounded-bottom p-2 bg-light\">\n      {inputsGroups.map((inputs, groupIndex) => (\n        <>\n          <InputsGroup inputs={inputs} />\n          {groupIndex !== inputsGroups.length - 1 && <hr />}\n        </>\n      ))}\n    </Form>\n  );\n};\n\nexport default FormTabContent;\n","import React, { FunctionComponent } from 'react';\nimport { AccordionCollapse, Tab, Tabs } from 'react-bootstrap';\nimport FormTabContent from './FormTabContent';\nimport { FormInput } from './Input';\n\nexport interface FormTab {\n  title: string;\n  inputsGroups: FormInput[][];\n}\n\ninterface Props {\n  tabs: FormTab[];\n  defaultTab?: string;\n  onSelect?: (tabName: string | null) => void;\n}\n\nconst DimensionsForm: FunctionComponent<Props> = ({\n  tabs,\n  defaultTab,\n  onSelect,\n}) => {\n  return (\n    <div>\n      <Tabs\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        transition={AccordionCollapse as any}\n        onSelect={onSelect}\n        defaultActiveKey={defaultTab}\n        className=\"border rounded-top justify-content-around\"\n      >\n        {tabs.map(({ title, inputsGroups }) => (\n          <Tab\n            key={title}\n            eventKey={title}\n            title={title}\n            tabClassName=\"border rounded my-1\"\n          >\n            <FormTabContent key={title} inputsGroups={inputsGroups} />\n          </Tab>\n        ))}\n      </Tabs>\n    </div>\n  );\n};\n\nexport default DimensionsForm;\n","import React, { FunctionComponent } from 'react';\nimport { Col } from 'react-bootstrap';\nimport './LeftSideWrapper.css';\n\nconst LeftSideWrapper: FunctionComponent = ({ children }) => (\n  <Col md={3} className=\"left-side-wrapper\">\n    {children}\n  </Col>\n);\n\nexport default LeftSideWrapper;\n","import React, { FunctionComponent } from 'react';\nimport { ModifiableLinearShape } from '../../types/ModifiableShape';\nimport ModifiableLine, { Line } from './ModifiableLine';\n\ninterface Props extends ModifiableLinearShape {\n  lines: Line[];\n}\n\nconst ModifiableLinePicture: FunctionComponent<Props> = ({\n  lines,\n  ...rest\n}) => (\n  <>\n    {lines.map(({ points }) => (\n      <ModifiableLine {...rest} points={points} />\n    ))}\n  </>\n);\n\nexport default ModifiableLinePicture;\n","import React, { FunctionComponent } from 'react';\nimport PointModifier from '../../../types/PointModifier';\nimport ModifiableLinePicture from '../../modifiableKonvaShapes/ModifiableLinePicture';\nimport Shape from './Shape';\nimport ModifiableLine from '../../modifiableKonvaShapes/ModifiableLine';\n\ninterface Props {\n  shape: Shape;\n  modifiers?: PointModifier[];\n}\n\nconst Picture: FunctionComponent<Props> = ({ shape, modifiers }) => (\n  <>\n    <ModifiableLine\n      points={shape.getOuterShapePoints()}\n      modifiers={modifiers}\n      closed\n    />\n    <ModifiableLinePicture\n      lines={shape.getInnerShapeLines()}\n      modifiers={modifiers}\n    />\n  </>\n);\n\nexport default Picture;\n","import React, { FunctionComponent, useState } from 'react';\nimport exampleImage from '../../../assets/examples/example1.png';\nimport CustomCanvas from '../../CustomCanvas';\nimport PageWrapper from '../../PageWraper';\nimport Shape from './Shape';\nimport PointModifier from '../../../types/PointModifier';\nimport DimensionsForm, { FormTab } from '../../DimensionsForm';\nimport LeftSideWrapper from '../../LeftSideWrapper';\nimport Picture from './Picture';\n\ninterface Props {\n  tabs: FormTab[];\n  onSelectTab: (tabName: string | null) => void;\n  canvasWidth: number;\n  canvasHeight: number;\n  step?: number;\n  modifiers?: PointModifier[];\n  defaultCanvasElements?: JSX.Element;\n}\n\nconst Lab1: FunctionComponent<Props> = ({\n  tabs,\n  onSelectTab,\n  canvasWidth,\n  canvasHeight,\n  step,\n  modifiers,\n  defaultCanvasElements,\n}) => {\n  const [R, setR] = useState(75);\n  const [L1, setL1] = useState(300);\n  const [L2, setL2] = useState(75);\n  const [L3, setL3] = useState(300);\n  const [L4, setL4] = useState(450);\n\n  const tabName = 'Shape';\n\n  const allTabs: FormTab[] = [\n    ...tabs,\n    {\n      title: tabName,\n      inputsGroups: [\n        [\n          { title: 'R', value: R, min: 0, step, setValue: setR },\n          { title: 'L1', value: L1, min: 0, step, setValue: setL1 },\n          { title: 'L2', value: L2, min: 0, step, setValue: setL2 },\n          { title: 'L3', value: L3, min: 0, step, setValue: setL3 },\n          { title: 'L4', value: L4, min: 0, step, setValue: setL4 },\n        ],\n      ],\n    },\n  ];\n\n  const shape = new Shape({ R, L1, L2, L3, L4 });\n\n  return (\n    <PageWrapper>\n      <LeftSideWrapper>\n        <DimensionsForm\n          tabs={allTabs}\n          defaultTab={tabName}\n          onSelect={onSelectTab}\n        />\n      </LeftSideWrapper>\n      <CustomCanvas width={canvasWidth} height={canvasHeight}>\n        <Picture shape={shape} modifiers={modifiers} />\n        {defaultCanvasElements}\n      </CustomCanvas>\n      <div>\n        <img src={exampleImage} alt=\"example\" style={{ width: '100%' }} />\n      </div>\n    </PageWrapper>\n  );\n};\n\nexport default Lab1;\n","import React, { FunctionComponent } from 'react';\nimport { Nav, Navbar } from 'react-bootstrap';\n\nconst Header: FunctionComponent = () => (\n  <Navbar bg=\"light\">\n    <Nav>\n      <Nav.Link href={`${process.env.PUBLIC_URL}/#/lab1`}>Lab 1</Nav.Link>\n      <Nav.Link href={`${process.env.PUBLIC_URL}/#/lab2`}>Lab 2</Nav.Link>\n      <Nav.Link href={`${process.env.PUBLIC_URL}/#/lab3`}>Lab 3-4</Nav.Link>\n      <Nav.Link href={`${process.env.PUBLIC_URL}/#/lab5`}>Lab 5</Nav.Link>\n      <Nav.Link href={`${process.env.PUBLIC_URL}/#/lab6`}>Lab 6</Nav.Link>\n    </Nav>\n  </Navbar>\n);\n\nexport default Header;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../../types/Coord';\nimport PointModifier from '../../../types/PointModifier';\nimport ModifiableLine from '../../modifiableKonvaShapes/ModifiableLine';\nimport DescartesFolium from './DescartesFolium';\n\ninterface Props {\n  maxCoord: Coord;\n  descartesFolium: DescartesFolium;\n  color?: string;\n  modifiers?: PointModifier[];\n}\n\nconst Asymptote: FunctionComponent<Props> = ({\n  maxCoord,\n  descartesFolium,\n  color,\n  modifiers,\n}) => {\n  const scale = 2;\n\n  return (\n    <ModifiableLine\n      points={[\n        {\n          x: -maxCoord.x * scale,\n          y: descartesFolium.getAsymtoteSecondCoordParam(-maxCoord.x * scale),\n        },\n        {\n          x: descartesFolium.getAsymtoteSecondCoordParam(-maxCoord.y * scale),\n          y: -maxCoord.y * scale,\n        },\n      ]}\n      color={color}\n      modifiers={modifiers}\n      strokeWidth={1}\n    />\n  );\n};\n\nexport default Asymptote;\n","import Coord from '../../../types/Coord';\nimport { degreesToRad } from '../../../util/math';\n\nexport default class DescartesFolium {\n  private a: number;\n\n  constructor(a: number) {\n    this.a = a;\n  }\n\n  private static getL(a: number): number {\n    return (3 * a) / Math.sqrt(2);\n  }\n\n  /**\n   * If pass x, returns y and vice versa\n   */\n  getAsymtoteSecondCoordParam(param: number): number {\n    return -this.a - param;\n  }\n\n  getPoint(phi: number): Coord {\n    const t = DescartesFolium.getT(phi);\n\n    return {\n      x: (3 * this.a * t) / (1 + t ** 3),\n      y: (3 * this.a * t ** 2) / (1 + t ** 3),\n    };\n  }\n\n  private static getT(phi: number): number {\n    return Math.tan(degreesToRad(phi));\n  }\n\n  getDerivativePoint(phi: number): Coord {\n    const t = DescartesFolium.getT(phi);\n\n    return {\n      x:\n        (-9 * this.a * t ** 3) / (t ** 3 + 1) ** 2 +\n        3 * (this.a / (t ** 3 + 1)),\n      y:\n        (-9 * this.a * t ** 4) / (t ** 3 + 1) ** 2 +\n        6 * ((this.a * t) / (t ** 3 + 1)),\n    };\n  }\n\n  getSecondDerivativePoint(phi: number): Coord {\n    const t = DescartesFolium.getT(phi);\n\n    return {\n      x:\n        (54 * this.a * t ** 5) / (t ** 3 + 1) ** 3 -\n        36 * this.a * (t ** 2 / (t ** 3 + 1) ** 2),\n      y:\n        (54 * this.a * t ** 6) / (t ** 3 + 1) ** 3 -\n        54 * this.a * (t ** 3 / (t ** 3 + 1) ** 2) +\n        (6 * this.a) / (t ** 3 + 1),\n    };\n  }\n\n  bindGetTangentY(phi0: number): (x: number) => number {\n    const point = this.getPoint(phi0);\n    const dPoint = this.getDerivativePoint(phi0);\n\n    return (x) => (dPoint.y / dPoint.x) * (x - point.x) + point.y;\n  }\n\n  bindGetNormalY(phi0: number): (x: number) => number {\n    const point = this.getPoint(phi0);\n    const dPoint = this.getDerivativePoint(phi0);\n\n    return (x) => -(dPoint.x / dPoint.y) * (x - point.x) + point.y;\n  }\n\n  calculateS(): number {\n    return (3 / 2) * this.a ** 2;\n  }\n\n  calculateCurvatureR(phi: number): number {\n    const dPoint = this.getDerivativePoint(phi);\n    const ddPoint = this.getSecondDerivativePoint(phi);\n\n    return (\n      (dPoint.x ** 2 + dPoint.y ** 2) ** 1.5 /\n      Math.abs(dPoint.x * ddPoint.y - dPoint.y * ddPoint.x)\n    );\n  }\n}\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../../types/Coord';\nimport PointModifier from '../../../types/PointModifier';\nimport ModifiableLine from '../../modifiableKonvaShapes/ModifiableLine';\n\ninterface Props {\n  maxCoord: Coord;\n  f(x: number): number;\n  invert?: boolean;\n  color?: string;\n  modifiers?: PointModifier[];\n}\n\nconst Phi0Line: FunctionComponent<Props> = ({\n  maxCoord,\n  f,\n  invert,\n  color,\n  modifiers,\n}) => {\n  const scale = invert ? -1 : 1;\n\n  return (\n    <ModifiableLine\n      points={[\n        {\n          x: -maxCoord.x,\n          y: f(-maxCoord.x) * scale,\n        },\n        {\n          x: maxCoord.x,\n          y: f(maxCoord.x) * scale,\n        },\n      ]}\n      color={color}\n      modifiers={modifiers}\n    />\n  );\n};\n\nexport default Phi0Line;\n","import React, { FunctionComponent } from 'react';\nimport { Circle } from 'react-konva';\nimport Coord from '../../types/Coord';\nimport { ModifiableShape } from '../../types/ModifiableShape';\nimport { applyModifiers } from './modifiableKonvaShapes.service';\n\ninterface Props extends ModifiableShape {\n  position: Coord;\n  radius: number;\n}\n\nconst ModifiableCircle: FunctionComponent<Props> = ({\n  position,\n  modifiers,\n  color,\n  dndOptions,\n  ...rest\n}) => {\n  const { x, y } = modifiers ? applyModifiers(position, modifiers) : position;\n\n  return (\n    <Circle\n      x={x}\n      y={y}\n      fill={color}\n      draggable={dndOptions?.getDraggable()}\n      onDragStart={dndOptions?.getOnDragStart()}\n      onDragEnd={dndOptions?.getOnDragEnd()}\n      onDragMove={dndOptions?.getOnDragMove()}\n      {...rest}\n    />\n  );\n};\n\nexport default ModifiableCircle;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../../types/Coord';\nimport PointModifier from '../../../types/PointModifier';\nimport ModifiableCircle from '../../modifiableKonvaShapes/ModifiableCircle';\n\ninterface Props {\n  position: Coord;\n  modifiers?: PointModifier[];\n  color?: string;\n}\n\nconst Phi0Point: FunctionComponent<Props> = ({\n  position,\n  modifiers,\n  color,\n}) => (\n  <ModifiableCircle\n    position={position}\n    radius={5}\n    modifiers={modifiers}\n    color={color}\n  />\n);\n\nexport default Phi0Point;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../../types/Coord';\nimport PointModifier from '../../../types/PointModifier';\nimport DescartesFolium from './DescartesFolium';\nimport Phi0Line from './Phi0Line';\nimport Phi0Point from './Phi0Point';\n\ninterface Props {\n  maxCoord: Coord;\n  descartesFolium: DescartesFolium;\n  phi: number;\n  color?: string;\n  modifiers?: PointModifier[];\n}\n\nconst Tangent: FunctionComponent<Props> = ({\n  maxCoord,\n  descartesFolium,\n  phi,\n  color,\n  modifiers,\n}) => {\n  const f = descartesFolium.bindGetTangentY(phi);\n  const pointPosition = descartesFolium.getPoint(phi);\n\n  const defaultProps = {\n    f,\n    position: pointPosition,\n    color,\n    maxCoord,\n    modifiers,\n  };\n\n  return (\n    <>\n      <Phi0Line {...defaultProps} />\n      <Phi0Point {...defaultProps} />\n    </>\n  );\n};\n\nexport default Tangent;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../../types/Coord';\nimport PointModifier from '../../../types/PointModifier';\nimport DescartesFolium from './DescartesFolium';\nimport Phi0Line from './Phi0Line';\nimport Phi0Point from './Phi0Point';\n\ninterface Props {\n  maxCoord: Coord;\n  descartesFolium: DescartesFolium;\n  phi: number;\n  color?: string;\n  modifiers?: PointModifier[];\n}\n\nconst Normal: FunctionComponent<Props> = ({\n  maxCoord,\n  descartesFolium,\n  phi,\n  color,\n  modifiers,\n}) => {\n  const f = descartesFolium.bindGetNormalY(phi);\n  const pointPosition = descartesFolium.getPoint(phi);\n\n  const defaultProps = {\n    f,\n    position: pointPosition,\n    maxCoord,\n    color,\n    modifiers,\n  };\n\n  return (\n    <>\n      <Phi0Line {...defaultProps} />\n      <Phi0Point {...defaultProps} />\n    </>\n  );\n};\n\nexport default Normal;\n","import React, { FunctionComponent, useState } from 'react';\nimport { Collapse } from 'react-bootstrap';\nimport './LineCollapse.css';\n\ninterface Props {\n  defaultDisplay?: boolean;\n}\n\nconst LineCollapse: FunctionComponent<Props> = ({\n  children,\n  defaultDisplay,\n}) => {\n  const [display, setDisplay] = useState(\n    defaultDisplay === undefined ? true : defaultDisplay\n  );\n\n  return (\n    <div>\n      <div className=\"d-flex\">\n        <hr className=\"col-10 mx-auto\" />\n        <button\n          type=\"button\"\n          onClick={() => setDisplay(!display)}\n          className=\"collapse-button border rounded-circle my-auto\"\n          aria-label=\"Collapse\"\n        />\n      </div>\n      <Collapse in={display}>\n        <div>{children}</div>\n      </Collapse>\n    </div>\n  );\n};\n\nexport default LineCollapse;\n","import React, { FunctionComponent } from 'react';\nimport { Form, Row } from 'react-bootstrap';\nimport LineCollapse from '../LineCollapse';\n\nexport interface InfoRecord {\n  title: string;\n  value: string | number;\n  unit?: string;\n}\n\ninterface Props {\n  records: InfoRecord[];\n}\n\nconst InfoBlock: FunctionComponent<Props> = ({ records }) => {\n  return (\n    <Form className=\"border rounded p-2 bg-light\">\n      <LineCollapse>\n        {records.map(({ title, value, unit }) => (\n          <Form.Group as={Row} key={title}>\n            <Form.Label column md={7}>\n              {title}\n            </Form.Label>\n            <Form.Label column md={5}>\n              {value} {unit}\n            </Form.Label>\n          </Form.Group>\n        ))}\n      </LineCollapse>\n    </Form>\n  );\n};\n\nexport default InfoBlock;\n","import React, { FunctionComponent } from 'react';\nimport { Form } from 'react-bootstrap';\nimport LineCollapse from '../LineCollapse';\nimport Checkbox, { FormCheckbox } from './Checkbox';\n\ninterface Props {\n  checkboxes: FormCheckbox[];\n}\n\nconst DimensionsForm: FunctionComponent<Props> = ({ checkboxes }) => {\n  return (\n    <Form className=\"border rounded p-2 bg-light\">\n      <LineCollapse>\n        {checkboxes.map((checkbox) => (\n          <Checkbox {...checkbox} />\n        ))}\n      </LineCollapse>\n    </Form>\n  );\n};\n\nexport default DimensionsForm;\n","import React, { FunctionComponent, useState } from 'react';\nimport CustomCanvas from '../../CustomCanvas';\nimport PageWrapper from '../../PageWraper';\nimport Coord from '../../../types/Coord';\nimport PointModifier from '../../../types/PointModifier';\nimport DimensionsForm, { FormTab } from '../../DimensionsForm';\nimport exampleImage from '../../../assets/examples/example2.png';\nimport Asymptote from './Asymptote';\nimport DescartesFolium from './DescartesFolium';\nimport Tangent from './Tangent';\nimport Normal from './Normal';\nimport InfoBlock, { InfoRecord } from '../../InfoBlock';\nimport LeftSideWrapper from '../../LeftSideWrapper';\nimport CheckboxesForm, { FormCheckbox } from '../../CheckboxesForm';\nimport { getCurveLines } from './Lab2.service';\nimport ModifiableLinePicture from '../../modifiableKonvaShapes/ModifiableLinePicture';\n\ninterface Props {\n  tabs: FormTab[];\n  onSelectTab(tabName: string | null): void;\n  maxCoord: Coord;\n  canvasWidth: number;\n  canvasHeight: number;\n  step?: number;\n  modifiers?: PointModifier[];\n  defaultCanvasElements?: JSX.Element;\n}\n\nconst Lab2: FunctionComponent<Props> = ({\n  tabs,\n  onSelectTab,\n  maxCoord,\n  canvasWidth,\n  canvasHeight,\n  step,\n  modifiers,\n  defaultCanvasElements,\n}) => {\n  const [a, setA] = useState(150);\n  const [phi0, setPhi0] = useState(0);\n  const [isEnableAsymptote, setEnabledAsymptote] = useState(true);\n  const [isEnableTangent, setEnabledTangent] = useState(true);\n  const [isEnableNormale, setEnabledNormale] = useState(true);\n\n  const descartesFolium = new DescartesFolium(a);\n\n  const tabName = 'Curve';\n\n  const allTabs: FormTab[] = [\n    ...tabs,\n    {\n      title: tabName,\n      inputsGroups: [\n        [{ title: 'a', value: a, step, setValue: setA }],\n        [\n          {\n            title: 'phi0',\n            value: phi0,\n            step: 1,\n            unit: 'deg',\n            setValue: setPhi0,\n          },\n        ],\n      ],\n    },\n  ];\n\n  const infoRecords: InfoRecord[] = [\n    {\n      title: 'S<OCAB>',\n      value: descartesFolium.calculateS(),\n      unit: 'px²',\n    },\n    {\n      title: 'S<OVU>',\n      value: descartesFolium.calculateS(),\n      unit: 'px²',\n    },\n    {\n      title: 'Curvature radius',\n      value: descartesFolium.calculateCurvatureR(phi0).toFixed(1),\n      unit: 'px',\n    },\n  ];\n\n  const checkboxes: FormCheckbox[] = [\n    {\n      title: 'Asymptote',\n      value: isEnableAsymptote,\n      setValue: setEnabledAsymptote,\n    },\n    {\n      title: 'Tangent',\n      value: isEnableTangent,\n      setValue: setEnabledTangent,\n    },\n    {\n      title: 'Normale',\n      value: isEnableNormale,\n      setValue: setEnabledNormale,\n    },\n  ];\n\n  const defaultProps = {\n    descartesFolium,\n    maxCoord,\n    modifiers,\n    phi: phi0,\n  };\n\n  const curveLines = getCurveLines(descartesFolium, maxCoord);\n\n  return (\n    <PageWrapper>\n      <LeftSideWrapper>\n        <DimensionsForm\n          tabs={allTabs}\n          defaultTab={tabName}\n          onSelect={onSelectTab}\n        />\n        <InfoBlock records={infoRecords} />\n        <CheckboxesForm checkboxes={checkboxes} />\n      </LeftSideWrapper>\n      <CustomCanvas width={canvasWidth} height={canvasHeight}>\n        <ModifiableLinePicture lines={curveLines} modifiers={modifiers} />\n        {isEnableAsymptote && <Asymptote color=\"red\" {...defaultProps} />}\n        {isEnableTangent && <Tangent color=\"skyblue\" {...defaultProps} />}\n        {isEnableNormale && <Normal color=\"hotpink\" {...defaultProps} />}\n        {defaultCanvasElements}\n      </CustomCanvas>\n      <div>\n        <img src={exampleImage} alt=\"example\" style={{ width: '100%' }} />\n      </div>\n    </PageWrapper>\n  );\n};\n\nexport default Lab2;\n","import Coord from '../../../types/Coord';\nimport { Line } from '../../modifiableKonvaShapes/ModifiableLine';\nimport DescartesFolium from './DescartesFolium';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function getCurveLines(\n  descartesFolium: DescartesFolium,\n  maxCoord: Coord\n): Line[] {\n  const firstBranchPoints: Coord[] = [];\n  const secondBranchPoints: Coord[] = [];\n\n  for (let i = 0; i <= 180; i += 1) {\n    const point = descartesFolium.getPoint(i);\n    if (\n      firstBranchPoints.length < 90 ||\n      (Math.abs(point.x) < maxCoord.x * 2 && Math.abs(point.y) < maxCoord.y * 2)\n    ) {\n      if (i <= 135) {\n        firstBranchPoints.push(point);\n      } else {\n        secondBranchPoints.push(point);\n      }\n    }\n  }\n\n  return [firstBranchPoints, secondBranchPoints].map((points) => ({ points }));\n}\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../types/Coord';\nimport PointModifier from '../../types/PointModifier';\nimport ModifiableCircle from '../modifiableKonvaShapes/ModifiableCircle';\nimport ModifiableDndOptions from '../modifiableKonvaShapes/ModifiableDndOptions';\n\ninterface Props {\n  position: Coord;\n  modifiers?: PointModifier[];\n  dndOptions?: ModifiableDndOptions;\n}\n\nconst Pivot: FunctionComponent<Props> = ({\n  position,\n  modifiers,\n  dndOptions,\n}) => {\n  return (\n    <ModifiableCircle\n      position={position}\n      modifiers={modifiers}\n      radius={5}\n      color=\"red\"\n      dndOptions={dndOptions}\n    />\n  );\n};\n\nexport default Pivot;\n","import Coord from '../../../types/Coord';\nimport { getMultiplePoints } from '../modifiableKonvaShapes.service';\nimport BezierLine from './BezierLine';\n\nfunction fixBezierOrder(endPoints: number[]): number[] {\n  return endPoints.length <= 4\n    ? fixBezierOrder([0, 0, ...endPoints])\n    : endPoints;\n}\n\n// eslint-disable-next-line import/prefer-default-export\nexport function buildBezierLine(\n  startPoint: Coord,\n  bezierTailPoints: Coord[]\n): BezierLine {\n  return {\n    start: startPoint,\n    tail: [\n      0,\n      0,\n      ...fixBezierOrder(getMultiplePoints(startPoint, bezierTailPoints)),\n    ],\n  };\n}\n","import React, { FunctionComponent } from 'react';\nimport { Line } from 'react-konva';\nimport Coord from '../../../types/Coord';\nimport { ModifiableLinearShape } from '../../../types/ModifiableShape';\nimport { applyModifiers } from '../modifiableKonvaShapes.service';\nimport BezierLine from './BezierLine';\nimport { buildBezierLine } from './ModifiableBezier.service';\n\ninterface Props extends ModifiableLinearShape {\n  from: Coord;\n  to: Coord[][];\n}\n\n/**\n * @param to The first part of array is the bezier points and the last element is an\n *   end point. You don't need to specify a start point of the next part of\n *   curve, it will be taken from end point of previous part of curve.\n */\nconst ModifiableBezier: FunctionComponent<Props> = ({\n  from,\n  to,\n  modifiers,\n  color,\n  closed,\n  ...rest\n}) => {\n  const startPoint = modifiers ? applyModifiers(from, modifiers) : from;\n\n  const modifiedBezierTailsPoints: Coord[][] = modifiers\n    ? to.map((bezierEndPoint) =>\n        bezierEndPoint.map((point) => applyModifiers(point, modifiers))\n      )\n    : to;\n\n  const bezierLines: BezierLine[] = [];\n\n  const firstLine = buildBezierLine(startPoint, modifiedBezierTailsPoints[0]);\n\n  const otherLines = modifiedBezierTailsPoints\n    .slice(1)\n    .map((currentTailPoints, i) => {\n      const prevLinePoints = modifiedBezierTailsPoints[i];\n      const prevEndPoint = prevLinePoints[prevLinePoints.length - 1];\n\n      return buildBezierLine(prevEndPoint, currentTailPoints);\n    });\n\n  bezierLines.push(firstLine, ...otherLines);\n\n  if (closed) {\n    const prevTailPoints =\n      modifiedBezierTailsPoints[modifiedBezierTailsPoints.length - 1];\n    const prevEndPoint = prevTailPoints[prevTailPoints.length - 1];\n\n    bezierLines.push(buildBezierLine(prevEndPoint, [startPoint]));\n  }\n\n  return (\n    <>\n      {bezierLines.map((line) => (\n        <Line\n          x={line.start.x}\n          y={line.start.y}\n          points={line.tail}\n          stroke={color || 'black'}\n          bezier\n          {...rest}\n        />\n      ))}\n    </>\n  );\n};\n\nexport default ModifiableBezier;\n","import { flatten } from 'lodash';\nimport React, { FunctionComponent } from 'react';\nimport Coord from '../../../../types/Coord';\nimport PointModifier from '../../../../types/PointModifier';\nimport ModifiableLine from '../../../modifiableKonvaShapes/ModifiableLine';\n\ninterface Props {\n  points: Coord[][];\n  strokeWidth?: number;\n  modifiers?: PointModifier[];\n}\n\nconst SupportingLines: FunctionComponent<Props> = ({\n  points,\n  strokeWidth,\n  modifiers,\n}) => {\n  const startPoint = points[points.length - 1][1];\n\n  return (\n    <>\n      <ModifiableLine\n        points={[startPoint, ...flatten(points)]}\n        modifiers={modifiers}\n        color=\"hotpink\"\n        strokeWidth={strokeWidth}\n      />\n      <ModifiableLine\n        points={[startPoint, ...points.map((pointsPair) => pointsPair[1])]}\n        modifiers={modifiers}\n        color=\"skyblue\"\n        strokeWidth={strokeWidth}\n      />\n    </>\n  );\n};\n\nexport default SupportingLines;\n","import { KonvaEventObject } from 'konva/types/Node';\nimport Coord from '../../types/Coord';\nimport PointModifier from '../../types/PointModifier';\nimport { applyModifiers } from './modifiableKonvaShapes.service';\n\nexport type DragAction = (point: Coord) => void;\n\ninterface IModifiableDndOptions {\n  draggable?: boolean;\n  onDragStart?: DragAction;\n  onDragEnd?: DragAction;\n  onDragMove?: DragAction;\n  modifiers?: PointModifier[];\n}\n\nexport default class ModifiableDndOptions {\n  private draggable: boolean;\n  private onDragStart?: DragAction;\n  private onDragEnd?: DragAction;\n  private onDragMove?: DragAction;\n  private modifiers: PointModifier[];\n\n  constructor(options: IModifiableDndOptions) {\n    this.draggable = options.draggable === undefined ? true : options.draggable;\n    this.onDragStart = options.onDragStart;\n    this.onDragEnd = options.onDragEnd;\n    this.onDragMove = options.onDragMove;\n    this.modifiers = options.modifiers || [];\n  }\n\n  getDraggable(): boolean {\n    return this.draggable;\n  }\n\n  getOnDragStart(): (event: KonvaEventObject<DragEvent>) => void {\n    return (event) => this.onDragAction(event, this.onDragStart);\n  }\n\n  getOnDragEnd(): (event: KonvaEventObject<DragEvent>) => void {\n    return (event) => this.onDragAction(event, this.onDragEnd);\n  }\n\n  getOnDragMove(): (event: KonvaEventObject<DragEvent>) => void {\n    return (event) => this.onDragAction(event, this.onDragMove);\n  }\n\n  private onDragAction(\n    event: KonvaEventObject<DragEvent>,\n    onDragAction?: DragAction\n  ): void {\n    if (!onDragAction) {\n      return;\n    }\n    const point = applyModifiers(\n      ModifiableDndOptions.getPointFromEvent(event),\n      this.modifiers\n    );\n    onDragAction(point);\n  }\n\n  static getPointFromEvent(event: KonvaEventObject<DragEvent>): Coord {\n    return {\n      x: event.target.x(),\n      y: event.target.y(),\n    };\n  }\n}\n","import { clone, cloneDeep } from 'lodash';\nimport Coord from '../../../../../types/Coord';\nimport PicturePart from '../../../../../types/PicturePart';\n\ninterface OnPointMoveArgs {\n  parts: PicturePart[];\n  setParts?: (parts: PicturePart[]) => void;\n  draggedPoint: Coord;\n  pointIndex: number;\n  part: PicturePart;\n  partIndex: number;\n}\n\nexport function onPointMove({\n  parts,\n  setParts,\n  draggedPoint,\n  pointIndex,\n  part,\n  partIndex,\n}: OnPointMoveArgs): void {\n  if (!setParts) {\n    return;\n  }\n\n  const newPart = cloneDeep(part);\n  const newParts = clone(parts);\n\n  replaceDraggedPoint(newParts, newPart, partIndex, draggedPoint, pointIndex);\n  replaceContinuousPoint(newParts, newPart, partIndex);\n\n  setParts(newParts);\n}\n\nfunction replaceDraggedPoint(\n  newParts: PicturePart[],\n  newPart: PicturePart,\n  partIndex: number,\n  draggedPoint: Coord,\n  pointIndex: number\n): void {\n  newPart.points.splice(pointIndex, 1, draggedPoint);\n  newParts.splice(partIndex, 1, newPart);\n}\n\nfunction replaceContinuousPoint(\n  newParts: PicturePart[],\n  newPart: PicturePart,\n  partIndex: number\n): void {\n  if (newPart.isContinuous && newParts.length > 1) {\n    const prevIndex = partIndex ? partIndex - 1 : newParts.length - 1;\n    const nextIndex = partIndex === newParts.length - 1 ? 0 : partIndex + 1;\n\n    const prevPart = newParts[prevIndex];\n    const nextPart = newParts[nextIndex];\n\n    if (prevPart.isContinuous) {\n      const newPrevPart = getContinuousPart(\n        newPart,\n        prevPart,\n        prevPart.points[1]\n      );\n      newParts.splice(prevIndex, 1, newPrevPart);\n    }\n    if (nextPart.isContinuous) {\n      const newNextPart = getContinuousPart(\n        newPart,\n        nextPart,\n        newPart.points[1]\n      );\n      newParts.splice(nextIndex, 1, newNextPart);\n    }\n  }\n}\n\nfunction getContinuousPart(\n  part: PicturePart,\n  anotherPart: PicturePart,\n  point: Coord\n): PicturePart {\n  const newAnotherPart = cloneDeep(anotherPart);\n  newAnotherPart.points[0] = calclulateContinuousBezierPoint(\n    part.points[0],\n    point\n  );\n  return newAnotherPart;\n}\n\nfunction calclulateContinuousBezierPoint(\n  bezierPoint: Coord,\n  point: Coord\n): Coord {\n  return {\n    x: 2 * point.x - bezierPoint.x,\n    y: 2 * point.y - bezierPoint.y,\n  };\n}\n\nexport function getPointColor(\n  pointIndex: number,\n  isContinuous: boolean\n): string {\n  if (pointIndex) {\n    return 'skyblue';\n  }\n  if (isContinuous) {\n    return 'lightgreen';\n  }\n  return 'hotpink';\n}\n","import React, { FunctionComponent } from 'react';\nimport PicturePart from '../../../../../types/PicturePart';\nimport PointModifier from '../../../../../types/PointModifier';\nimport ModifiableCircle from '../../../../modifiableKonvaShapes/ModifiableCircle';\nimport ModifiableDndOptions from '../../../../modifiableKonvaShapes/ModifiableDndOptions';\nimport { getPointColor, onPointMove } from './SupportingPoints.service';\n\ninterface Props {\n  parts: PicturePart[];\n  pointsRadius: number;\n  isEnabledDragging?: boolean;\n  dndModifiers?: PointModifier[];\n  modifiers?: PointModifier[];\n  setParts?: (parts: PicturePart[]) => void;\n}\n\nconst SupportingPoints: FunctionComponent<Props> = ({\n  parts,\n  pointsRadius,\n  isEnabledDragging,\n  dndModifiers,\n  modifiers,\n  setParts,\n}) => {\n  const buildDndOptions = (\n    part: PicturePart,\n    partIndex: number,\n    pointIndex: number\n  ): ModifiableDndOptions =>\n    new ModifiableDndOptions({\n      modifiers: dndModifiers,\n      draggable: isEnabledDragging,\n      onDragMove: (draggedPoint) =>\n        onPointMove({\n          parts,\n          setParts,\n          draggedPoint,\n          pointIndex,\n          part,\n          partIndex,\n        }),\n    });\n\n  return (\n    <>\n      {parts.map((part, partIndex) =>\n        part.points.map((point, pointIndex) => (\n          <ModifiableCircle\n            position={point}\n            radius={pointsRadius}\n            color={getPointColor(pointIndex, !!part.isContinuous)}\n            modifiers={modifiers}\n            dndOptions={buildDndOptions(part, partIndex, pointIndex)}\n          />\n        ))\n      )}\n    </>\n  );\n};\n\nexport default SupportingPoints;\n","import React, { FunctionComponent } from 'react';\nimport PicturePart from '../../../../types/PicturePart';\nimport PointModifier from '../../../../types/PointModifier';\nimport ModifiableBezier from '../../../modifiableKonvaShapes/ModifiableBezier';\nimport SupportingLines from './SupportingLines';\nimport SupportingPoints from './SupportingPoints';\n\ninterface Props {\n  parts: PicturePart[];\n  setParts(parts: PicturePart[]): void;\n  modifiers?: PointModifier[];\n  dndModifiers?: PointModifier[];\n  isEnabledDragging?: boolean;\n  isEnabledSupportingLines?: boolean;\n}\n\nconst Picture: FunctionComponent<Props> = ({\n  parts,\n  setParts,\n  modifiers,\n  dndModifiers,\n  isEnabledDragging,\n  isEnabledSupportingLines,\n}) => {\n  const points = parts.map((part) => part.points);\n  const from = points[parts.length - 1][1];\n\n  return (\n    <>\n      <ModifiableBezier\n        from={from}\n        to={points}\n        modifiers={modifiers}\n        color=\"black\"\n      />\n      {isEnabledSupportingLines && (\n        <>\n          <SupportingLines\n            points={points}\n            strokeWidth={1.2}\n            modifiers={modifiers}\n          />\n          <SupportingPoints\n            pointsRadius={5}\n            parts={parts}\n            isEnabledDragging={isEnabledDragging}\n            dndModifiers={dndModifiers}\n            modifiers={modifiers}\n            setParts={setParts}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Picture;\n","import Coord from '../../../types/Coord';\nimport PicturePart from '../../../types/PicturePart';\n\ntype PicturePartTuple = [Coord, Coord, boolean?];\n\nfunction normalizePicturePart(picturePart: PicturePartTuple): PicturePart {\n  const points = normalizeCoords([picturePart[0], picturePart[1]]);\n  return {\n    points: [points[0], points[1]],\n    isContinuous: picturePart[2],\n  };\n}\n\nfunction normalizeCoords(pointsPair: Coord[]): Coord[] {\n  return pointsPair.map((point) => ({\n    x: point.x - 400,\n    y: -point.y + 400,\n  }));\n}\n\n/**\n * First point in the points pair is a bezier point for curve constructing.\n * Second point in the pair is a end point of curve.\n *\n * So the first point of every next line is an end point of previous pair\n * and we don't need to specify it.\n */\nconst sharkPointsTuples: PicturePartTuple[] = [\n  [\n    { x: 179, y: 500 },\n    { x: 113, y: 470 },\n  ],\n  [\n    { x: 68, y: 449 },\n    { x: 52, y: 421 },\n  ],\n  [\n    { x: 44, y: 404 },\n    { x: 49, y: 390 },\n  ],\n  [\n    { x: 72, y: 343 },\n    { x: 125, y: 322 },\n  ],\n  [\n    { x: 164, y: 304 },\n    { x: 206, y: 306 },\n  ],\n  [\n    { x: 198, y: 277 },\n    { x: 189, y: 257 },\n  ],\n  [\n    { x: 102, y: 0 },\n    { x: 258, y: 237 },\n  ],\n  [\n    { x: 268, y: 251 },\n    { x: 283, y: 277 },\n  ],\n  [\n    { x: 298, y: 260 },\n    { x: 310, y: 252 },\n  ],\n  [\n    { x: 409, y: 163 },\n    { x: 464, y: 164 },\n  ],\n  [\n    { x: 485, y: 164 },\n    { x: 478, y: 183 },\n  ],\n  [\n    { x: 441, y: 228 },\n    { x: 425, y: 327 },\n  ],\n  [\n    { x: 440, y: 332 },\n    { x: 454, y: 336 },\n  ],\n  [\n    { x: 500, y: 268 },\n    { x: 532, y: 275 },\n  ],\n  [\n    { x: 543, y: 282 },\n    { x: 538, y: 294 },\n  ],\n  [\n    { x: 519, y: 318 },\n    { x: 513, y: 365 },\n  ],\n  [\n    { x: 543, y: 375 },\n    { x: 573, y: 380 },\n  ],\n  [\n    { x: 712, y: 312 },\n    { x: 742, y: 217 },\n  ],\n  [\n    { x: 747, y: 207 },\n    { x: 751, y: 222 },\n  ],\n  [{ x: 745, y: 316 }, { x: 665, y: 420 }, true],\n  [{ x: 610, y: 509 }, { x: 709, y: 563 }, true],\n  [\n    { x: 726, y: 577 },\n    { x: 702, y: 581 },\n  ],\n  [\n    { x: 672, y: 580 },\n    { x: 627, y: 526 },\n  ],\n  [\n    { x: 590, y: 457 },\n    { x: 582, y: 443 },\n  ],\n  [\n    { x: 555, y: 440 },\n    { x: 523, y: 458 },\n  ],\n  [\n    { x: 540, y: 535 },\n    { x: 484, y: 466 },\n  ],\n  [\n    { x: 439, y: 466 },\n    { x: 379, y: 484 },\n  ],\n  [\n    { x: 480, y: 870 },\n    { x: 298, y: 510 },\n  ],\n];\n\nconst swanPointsTuples: PicturePartTuple[] = [\n  [\n    { x: 95, y: 578 },\n    { x: 105, y: 549 },\n  ],\n  [\n    { x: 70, y: 530 },\n    { x: 76, y: 499 },\n  ],\n  [\n    { x: 64, y: 481 },\n    { x: 71, y: 461 },\n  ],\n  [\n    { x: 104, y: 490 },\n    { x: 146, y: 492 },\n  ],\n  [\n    { x: 139, y: 484 },\n    { x: 139, y: 484 },\n  ],\n  [{ x: 150, y: 495 }, { x: 279, y: 427 }, true],\n  [{ x: 432, y: 337 }, { x: 550, y: 391 }, true],\n  [\n    { x: 500, y: 325 },\n    { x: 529, y: 178 },\n  ],\n  [\n    { x: 555, y: 150 },\n    { x: 626, y: 186 },\n  ],\n  [\n    { x: 636, y: 174 },\n    { x: 640, y: 208 },\n  ],\n  [\n    { x: 700, y: 250 },\n    { x: 675, y: 250 },\n  ],\n  [\n    { x: 612, y: 230 },\n    { x: 575, y: 239 },\n  ],\n  [\n    { x: 550, y: 360 },\n    { x: 695, y: 438 },\n  ],\n  [\n    { x: 780, y: 520 },\n    { x: 692, y: 578 },\n  ],\n  [\n    { x: 692, y: 596 },\n    { x: 664, y: 609 },\n  ],\n  [\n    { x: 654, y: 605 },\n    { x: 657, y: 593 },\n  ],\n  [\n    { x: 621, y: 629 },\n    { x: 609, y: 611 },\n  ],\n  [\n    { x: 546, y: 655 },\n    { x: 514, y: 629 },\n  ],\n  [\n    { x: 476, y: 670 },\n    { x: 429, y: 641 },\n  ],\n  [\n    { x: 408, y: 664 },\n    { x: 387, y: 641 },\n  ],\n  [\n    { x: 345, y: 664 },\n    { x: 312, y: 634 },\n  ],\n  [\n    { x: 281, y: 663 },\n    { x: 236, y: 617 },\n  ],\n  [\n    { x: 206, y: 626 },\n    { x: 183, y: 614 },\n  ],\n  [\n    { x: 160, y: 622 },\n    { x: 155, y: 602 },\n  ],\n  [\n    { x: 150, y: 590 },\n    { x: 132, y: 589 },\n  ],\n];\n\nexport const [sharkParts, swanParts] = [\n  sharkPointsTuples,\n  swanPointsTuples,\n].map((tuples) => tuples.map(normalizePicturePart));\n","import { range } from 'lodash';\nimport Coord from '../../../types/Coord';\nimport PicturePart from '../../../types/PicturePart';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function getFrames(\n  pictureParts1: PicturePart[],\n  pictureParts2: PicturePart[],\n  framesAmount: number\n): PicturePart[][] {\n  const [points1, points2] = fixPointsAmountDifference(\n    pictureParts1.map((part) => part.points),\n    pictureParts2.map((part) => part.points)\n  );\n\n  const frames: PicturePart[][] = range(1, framesAmount + 1).map((frameCount) =>\n    points1\n      .map((pointsPair, i) =>\n        pointsPair.map((point, j) => ({\n          x:\n            point.x - ((point.x - points2[i][j].x) / framesAmount) * frameCount,\n          y:\n            point.y - ((point.y - points2[i][j].y) / framesAmount) * frameCount,\n        }))\n      )\n      .map((pointsPair) => ({ points: [pointsPair[0], pointsPair[1]] }))\n  );\n\n  return [pictureParts1, ...frames, pictureParts2];\n}\n\nfunction fixPointsAmountDifference(\n  points1: Coord[][],\n  points2: Coord[][]\n): [Coord[][], Coord[][]] {\n  const diff = Math.abs(points1.length - points2.length);\n\n  return points1.length < points2.length\n    ? [[...points1.slice(0, diff), ...points1], points2]\n    : [points1, [...points2.slice(0, diff), ...points2]];\n}\n","import React, { FunctionComponent, useEffect, useState } from 'react';\nimport CustomCanvas from '../../CustomCanvas';\nimport PageWrapper from '../../PageWraper';\nimport PointModifier from '../../../types/PointModifier';\nimport DimensionsForm, { FormTab } from '../../DimensionsForm';\nimport exampleImage1 from '../../../assets/examples/example3-1.png';\nimport exampleImage2 from '../../../assets/examples/example3-2.png';\nimport LeftSideWrapper from '../../LeftSideWrapper';\nimport CheckboxesForm, {\n  CheckboxType,\n  FormCheckbox,\n} from '../../CheckboxesForm';\nimport Picture from './Picture';\nimport { sharkParts, swanParts } from './picturesParts';\nimport { getFrames } from './Lab3.service';\nimport PicturePart from '../../../types/PicturePart';\n\ninterface Props {\n  tabs: FormTab[];\n  onSelectTab(tabName: string | null): void;\n  canvasWidth: number;\n  canvasHeight: number;\n  modifiers?: PointModifier[];\n  isEnabledDragging?: boolean;\n  dndModifiers?: PointModifier[];\n  defaultCanvasElements?: JSX.Element;\n}\n\nconst framesAmount = 15;\nconst durationMillis = 500;\nconst intervalMillis = durationMillis / framesAmount;\n\nconst Lab3: FunctionComponent<Props> = ({\n  tabs,\n  onSelectTab,\n  canvasWidth,\n  canvasHeight,\n  modifiers,\n  isEnabledDragging,\n  dndModifiers,\n  defaultCanvasElements,\n}) => {\n  const [isEnabledSupportingLines, setEnabledSupportingLines] = useState(false);\n  const [sharkOrSwan, setSharkOrSwan] = useState(false);\n  const [framesCounter, setFramesCounter] = useState(-1);\n  const [parts, setParts] = useState(sharkOrSwan ? swanParts : sharkParts);\n  const [currentInterval, setCurrentInterval] = useState<NodeJS.Timer>();\n  const [frames, setFrames] = useState<PicturePart[][]>([]);\n\n  useEffect(() => {\n    if (sharkOrSwan) {\n      setFrames(getFrames(parts, swanParts, framesAmount));\n    } else {\n      setFrames(getFrames(parts, sharkParts, framesAmount));\n    }\n    // We need to calculate only with start points. If we will add 'points' according to eslint,\n    // it will recalculate frames with new value every time when we will change the frame.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sharkOrSwan]);\n\n  const enableAnimation = () => {\n    let i = 0;\n    const interval = setInterval(() => {\n      setFramesCounter(i);\n      i += 1;\n    }, intervalMillis);\n    setCurrentInterval(interval);\n  };\n\n  useEffect(() => {\n    if (framesCounter < 0) {\n      return;\n    }\n\n    setParts(frames[framesCounter]);\n\n    if (framesCounter + 1 === framesAmount + 2) {\n      setFramesCounter(-1);\n      if (currentInterval) {\n        clearInterval(currentInterval);\n      }\n    }\n  }, [currentInterval, frames, framesCounter]);\n\n  const checkboxes: FormCheckbox[] = [\n    {\n      title: 'Supporting lines',\n      value: isEnabledSupportingLines,\n      setValue: setEnabledSupportingLines,\n    },\n    {\n      title: 'Shark/Swan',\n      value: sharkOrSwan,\n      setValue: setSharkOrSwan,\n      type: CheckboxType.SWITCH,\n      onClick: enableAnimation,\n      disabled: framesCounter !== -1,\n    },\n  ];\n\n  return (\n    <PageWrapper>\n      <LeftSideWrapper>\n        <DimensionsForm tabs={tabs} onSelect={onSelectTab} />\n        <CheckboxesForm checkboxes={checkboxes} />\n      </LeftSideWrapper>\n      <CustomCanvas width={canvasWidth} height={canvasHeight}>\n        <Picture\n          parts={parts}\n          setParts={setParts}\n          modifiers={modifiers}\n          dndModifiers={dndModifiers}\n          isEnabledDragging={isEnabledDragging}\n          isEnabledSupportingLines={isEnabledSupportingLines}\n        />\n        {defaultCanvasElements}\n      </CustomCanvas>\n      <div>\n        <img src={exampleImage1} alt=\"example\" style={{ width: '100%' }} />\n        <img src={exampleImage2} alt=\"example\" style={{ width: '100%' }} />\n      </div>\n    </PageWrapper>\n  );\n};\n\nexport default Lab3;\n","import Coord from '../../../types/Coord';\nimport { Line } from '../../modifiableKonvaShapes/ModifiableLine';\n\ntype CoordSet = [number, number, number];\n\nfunction mapArrayToCoord([x, y, z]: number[]): Coord {\n  return { x, y, z };\n}\n\n// eslint-disable-next-line import/prefer-default-export\nexport function getHouseLines({\n  L,\n  H,\n  R1,\n  R2,\n  W,\n}: {\n  L: number;\n  H: number;\n  R1: number;\n  R2: number;\n  W: number;\n}): Line[] {\n  const l = L / 2;\n  const h = H / 3;\n  const drl1 = (R1 - L) / 2;\n  const drl2 = (R2 - L) / 2;\n  const rl1 = l + drl1;\n  const rl2 = l + drl2;\n  const w = W / 2;\n  const Wl = W + l;\n\n  const coordSets: CoordSet[][] = [\n    // Floor 1\n    [\n      [-l, -h, -l],\n      [l, -h, -l],\n      [l, -h, l],\n      [-l, -h, l],\n      [-l, -h, -l],\n    ],\n    // Floor 2\n    [\n      [-l, h, -l],\n      [-w, h * 2 - W, -l],\n      [w, h * 2 - W, -l],\n      [l, h, -l],\n      [l, h, -rl1],\n      [Wl, h, -rl1],\n      [Wl, h, rl1],\n      [l, h, rl1],\n      [l, h, l],\n      [w, h * 2 - W, l],\n      [-w, h * 2 - W, l],\n      [-l, h, l],\n      [-l, h, rl1],\n      [-Wl, h, rl1],\n      [-Wl, h, -rl1],\n      [-l, h, -rl1],\n      [-l, h, -l],\n    ],\n    [\n      [-l, h, -l],\n      [-l, h, l],\n    ],\n    [\n      [l, h, -l],\n      [l, h, l],\n    ],\n    // Floor 3\n    [\n      [-w, h * 2, -rl2],\n      [w, h * 2, -rl2],\n      [w, h * 2, rl2],\n      [-w, h * 2, rl2],\n      [-w, h * 2, -rl2],\n    ],\n    // Between floors 1 and 2\n    [\n      [-l, -h, -l],\n      [-l, h, -l],\n    ],\n    [\n      [l, -h, -l],\n      [l, h, -l],\n    ],\n    [\n      [l, -h, l],\n      [l, h, l],\n    ],\n    [\n      [-l, -h, l],\n      [-l, h, l],\n    ],\n    // Between floors 2 and 3\n    [\n      [-Wl, h, rl1],\n      [-w, h * 2, rl2],\n    ],\n    [\n      [Wl, h, rl1],\n      [w, h * 2, rl2],\n    ],\n    [\n      [-Wl, h, -rl1],\n      [-w, h * 2, -rl2],\n    ],\n    [\n      [Wl, h, -rl1],\n      [w, h * 2, -rl2],\n    ],\n    [\n      [-l, h, rl1],\n      [-w, h * 2 - W, rl2],\n      [w, h * 2 - W, rl2],\n      [l, h, rl1],\n    ],\n    [\n      [-l, h, -rl1],\n      [-w, h * 2 - W, -rl2],\n      [w, h * 2 - W, -rl2],\n      [l, h, -rl1],\n    ],\n    [\n      [-w, h * 2 - W, l],\n      [-w, h * 2 - W, rl2],\n    ],\n    [\n      [-w, h * 2 - W, -l],\n      [-w, h * 2 - W, -rl2],\n    ],\n    [\n      [w, h * 2 - W, l],\n      [w, h * 2 - W, rl2],\n    ],\n    [\n      [w, h * 2 - W, -l],\n      [w, h * 2 - W, -rl2],\n    ],\n    // Door\n    [\n      [-l / 3, -h, l],\n      [-l / 3, 0, l],\n      [l / 3, 0, l],\n      [l / 3, -h, l],\n    ],\n  ];\n\n  return coordSets.map((points) => ({\n    points: (<number[][]>points).map(mapArrayToCoord),\n  }));\n}\n","import React, { FunctionComponent, useState } from 'react';\nimport CustomCanvas from '../../CustomCanvas';\nimport PageWrapper from '../../PageWraper';\nimport PointModifier from '../../../types/PointModifier';\nimport DimensionsForm, { FormTab } from '../../DimensionsForm';\nimport LeftSideWrapper from '../../LeftSideWrapper';\nimport { getHouseLines } from './picturesLines';\n\nimport exampleImage from '../../../assets/examples/example5.png';\nimport { bindCreateOnePointPerspective } from '../../../util/math';\nimport ModifiableLinePicture from '../../modifiableKonvaShapes/ModifiableLinePicture';\n\ninterface Props {\n  tabs: FormTab[];\n  onSelectTab(tabName: string | null): void;\n  canvasWidth: number;\n  canvasHeight: number;\n  step?: number;\n  defaultCanvasElements?: JSX.Element;\n  getModifiers?(modifiers: PointModifier[]): PointModifier[];\n}\n\nconst Lab5: FunctionComponent<Props> = ({\n  tabs,\n  onSelectTab,\n  canvasWidth,\n  canvasHeight,\n  step,\n  getModifiers,\n  defaultCanvasElements,\n}) => {\n  const [viewPoint, setViewPoint] = useState(1000);\n  const [L, setL] = useState(150);\n  const [H, setH] = useState(250);\n  const [R1, setR1] = useState(180);\n  const [R2, setR2] = useState(180);\n  const [W, setW] = useState(30);\n\n  const modifiers = getModifiers?.([bindCreateOnePointPerspective(viewPoint)]);\n\n  const tabName = 'Picture';\n\n  const allTabs: FormTab[] = [\n    ...tabs,\n    {\n      title: tabName,\n      inputsGroups: [\n        [\n          {\n            title: 'View point',\n            value: viewPoint,\n            step,\n            setValue: setViewPoint,\n          },\n        ],\n        [\n          { title: 'L', value: L, min: 0, step, setValue: setL },\n          { title: 'H', value: H, min: 0, step, setValue: setH },\n          { title: 'R1', value: R1, min: 0, step, setValue: setR1 },\n          { title: 'R2', value: R2, min: 0, step, setValue: setR2 },\n          { title: 'W', value: W, min: 0, step, setValue: setW },\n        ],\n      ],\n    },\n  ];\n\n  const houseLines = getHouseLines({ L, H, R1, R2, W });\n\n  return (\n    <PageWrapper>\n      <LeftSideWrapper>\n        <DimensionsForm\n          tabs={allTabs}\n          defaultTab={tabName}\n          onSelect={onSelectTab}\n        />\n      </LeftSideWrapper>\n      <CustomCanvas width={canvasWidth} height={canvasHeight}>\n        <ModifiableLinePicture lines={houseLines} modifiers={modifiers} />\n        {defaultCanvasElements}\n      </CustomCanvas>\n      <div>\n        <img src={exampleImage} alt=\"example\" style={{ width: '100%' }} />\n      </div>\n    </PageWrapper>\n  );\n};\n\nexport default Lab5;\n","import { range } from 'lodash';\nimport Coord from '../../../types/Coord';\nimport { Line } from '../../modifiableKonvaShapes/ModifiableLine';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function getEllipticParaboloidLines({\n  l,\n  a,\n  b,\n  gridDensity,\n}: {\n  l: number;\n  a: number;\n  b: number;\n  gridDensity: number;\n}): Line[] {\n  const step = (l * 2) / gridDensity;\n\n  const points1: Coord[][] = range(-l, l, step).map((x) =>\n    range(-l, l, 15).map((z) => ({\n      z,\n      x,\n      y: getY(z, x, a, b),\n    }))\n  );\n  const points2: Coord[][] = range(-l, l, step).map((z) =>\n    range(-l, l, 15).map((x) => ({\n      z,\n      x,\n      y: getY(z, x, a, b),\n    }))\n  );\n\n  return [...points1, ...points2].map((pointsLine) => ({\n    points: pointsLine,\n  }));\n}\n\nfunction getY(z: number, x: number, a: number, b: number): number {\n  return z ** 2 / a ** 2 + x ** 2 / b ** 2;\n}\n","import React, { FunctionComponent, useState } from 'react';\nimport CustomCanvas from '../../CustomCanvas';\nimport PageWrapper from '../../PageWraper';\nimport PointModifier from '../../../types/PointModifier';\nimport DimensionsForm, { FormTab } from '../../DimensionsForm';\nimport LeftSideWrapper from '../../LeftSideWrapper';\nimport { getEllipticParaboloidLines } from './Lab6.service';\nimport { bindCreateOnePointPerspective } from '../../../util/math';\nimport ModifiableLinePicture from '../../modifiableKonvaShapes/ModifiableLinePicture';\n\ninterface Props {\n  tabs: FormTab[];\n  onSelectTab(tabName: string | null): void;\n  canvasWidth: number;\n  canvasHeight: number;\n  step?: number;\n  defaultCanvasElements?: JSX.Element;\n  getModifiers?(modifiers: PointModifier[]): PointModifier[];\n}\n\nconst Lab6: FunctionComponent<Props> = ({\n  tabs,\n  onSelectTab,\n  canvasWidth,\n  canvasHeight,\n  step,\n  getModifiers,\n  defaultCanvasElements,\n}) => {\n  const [viewPoint, setViewPoint] = useState(1000);\n  const [gridDensity, setGridDensity] = useState(20);\n  const [l, setL] = useState(200);\n  const [a, setA] = useState(15);\n  const [b, setB] = useState(15);\n\n  const modifiers = getModifiers?.([bindCreateOnePointPerspective(viewPoint)]);\n\n  const tabName = 'Picture';\n\n  const allTabs: FormTab[] = [\n    ...tabs,\n    {\n      title: tabName,\n      inputsGroups: [\n        [\n          {\n            title: 'View point',\n            value: viewPoint,\n            step,\n            setValue: setViewPoint,\n          },\n        ],\n        [\n          {\n            title: 'Grid density',\n            value: gridDensity,\n            min: 1,\n            setValue: setGridDensity,\n          },\n        ],\n        [\n          { title: 'l', value: l, step, setValue: setL },\n          { title: 'a', value: a, unit: ' ', setValue: setA },\n          { title: 'b', value: b, unit: ' ', setValue: setB },\n        ],\n      ],\n    },\n  ];\n\n  const pictureLines = getEllipticParaboloidLines({ gridDensity, l, a, b });\n\n  return (\n    <PageWrapper>\n      <LeftSideWrapper>\n        <DimensionsForm\n          tabs={allTabs}\n          defaultTab={tabName}\n          onSelect={onSelectTab}\n        />\n      </LeftSideWrapper>\n      <CustomCanvas width={canvasWidth} height={canvasHeight}>\n        <ModifiableLinePicture\n          lines={pictureLines}\n          modifiers={modifiers}\n          strokeWidth={1}\n        />\n        {defaultCanvasElements}\n      </CustomCanvas>\n    </PageWrapper>\n  );\n};\n\nexport default Lab6;\n","import React, { FunctionComponent, useEffect, useMemo, useState } from 'react';\nimport { HashRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport Grid from '../Grid';\nimport './App.css';\nimport Axes from '../Axes';\nimport { FormTab } from '../DimensionsForm';\nimport Coord from '../../types/Coord';\nimport PointModifier from '../../types/PointModifier';\nimport Affine from '../../types/Affine';\nimport Projective from '../../types/Projective';\nimport {\n  bindNormalizeVectorValueToAxesMaxCoord,\n  bindOffsetPoint,\n  bindRotatePointByDegreesWithPivot,\n  bindInvertY,\n  bindAffinePoint,\n  bindProjectivePoint,\n} from './App.service';\nimport Lab1 from '../labsPages/Lab1';\nimport Header from '../Header';\nimport Lab2 from '../labsPages/Lab2';\nimport Pivot from '../Pivot';\nimport Lab3 from '../labsPages/Lab3/Lab3';\nimport ModifiableDndOptions from '../modifiableKonvaShapes/ModifiableDndOptions';\nimport Lab5 from '../labsPages/Lab5';\nimport Lab6 from '../labsPages/Lab6';\n\nconst canvasWidth = 800;\nconst canvasHeight = 800;\nconst canvasCenter: Coord = { x: canvasWidth / 2, y: canvasHeight / 2 };\n\nconst defaultAxesModifiers = [bindInvertY(), bindOffsetPoint(canvasCenter)];\n\nconst normalizeVectorValue = bindNormalizeVectorValueToAxesMaxCoord(\n  canvasCenter\n);\n\nconst App: FunctionComponent = () => {\n  const [currentTabName, setCurrentTabName] = useState<string | null>();\n  const [isEnabledDragging, setEnabledDragging] = useState(true);\n  const [cellLength, setCellLength] = useState(25);\n  const [step, setStep] = useState(5);\n  const [offset, setOffset] = useState<Coord>({ x: 0, y: 0 });\n  const [rotateDegrees, setRotateDegrees] = useState(0);\n  const [pivot, setPivot] = useState<Coord>({ x: 0, y: 0 });\n  const [affine, setAffine] = useState<Affine>({\n    r0: { x: 0, y: 0 },\n    rX: { x: canvasCenter.x, y: 0 },\n    rY: { x: 0, y: canvasCenter.y },\n  });\n  const normalizedAffine = useMemo<Affine>(\n    () => ({\n      ...affine,\n      rX: normalizeVectorValue(affine.rX),\n      rY: normalizeVectorValue(affine.rY),\n    }),\n    [affine]\n  );\n  const [projective, setProjective] = useState<Projective>({\n    r0: { x: 0, y: 0 },\n    rX: { x: 800, y: 0 },\n    rY: { x: 0, y: 800 },\n    w0: 800,\n    w: { x: canvasCenter.x, y: canvasCenter.y },\n  });\n  const normalizedProjective = useMemo<Projective>(\n    () => ({\n      ...projective,\n      w: normalizeVectorValue(projective.w),\n    }),\n    [projective]\n  );\n  const normalizedProjectiveForAxes = useMemo<Affine>(\n    () => ({\n      ...projective,\n      rX: normalizeVectorValue(projective.rX),\n      rY: normalizeVectorValue(projective.rY),\n    }),\n    [projective]\n  );\n\n  const [axesModifiers, setAxesModifiers] = useState<PointModifier[]>(\n    defaultAxesModifiers\n  );\n  const [gridModifiers, setGridModifiers] = useState<PointModifier[]>(\n    defaultAxesModifiers\n  );\n  const getShapeModifiers = (\n    customModifiers?: PointModifier[]\n  ): PointModifier[] => [\n    bindOffsetPoint(offset),\n    bindRotatePointByDegreesWithPivot(rotateDegrees, pivot),\n    ...(customModifiers || []),\n    ...gridModifiers,\n  ];\n\n  const defaultDndModifiers: PointModifier[] = [\n    bindOffsetPoint({ x: -canvasCenter.x, y: -canvasCenter.y }),\n    bindInvertY(),\n  ];\n  const pivotDndModifiers: PointModifier[] = defaultDndModifiers;\n  const shapeDndModifiers: PointModifier[] = [\n    ...defaultDndModifiers,\n    bindRotatePointByDegreesWithPivot(-rotateDegrees, pivot),\n    bindOffsetPoint({ x: -offset.x, y: -offset.y }),\n  ];\n\n  const linearTransformationTabs: Record<string, FormTab> = {\n    common: {\n      title: 'Common',\n      inputsGroups: [\n        [\n          {\n            title: 'Cell length',\n            value: cellLength,\n            min: 1,\n            setValue: setCellLength,\n          },\n          {\n            title: 'Input step',\n            value: step,\n            min: 1,\n            setValue: setStep,\n          },\n        ],\n      ],\n    },\n    euclid: {\n      title: 'Euclid',\n      inputsGroups: [\n        [\n          {\n            title: 'ΔX',\n            value: offset.x,\n            step,\n            setValue: (value) => setOffset({ ...offset, x: value }),\n          },\n          {\n            title: 'ΔY',\n            value: offset.y,\n            step,\n            setValue: (value) => setOffset({ ...offset, y: value }),\n          },\n        ],\n        [\n          {\n            title: 'Rotate',\n            value: rotateDegrees,\n            step,\n            unit: 'deg',\n            setValue: setRotateDegrees,\n          },\n          {\n            title: 'Pivot X',\n            value: pivot.x,\n            step,\n            setValue: (value) => setPivot({ ...pivot, x: value }),\n          },\n          {\n            title: 'Pivot Y',\n            value: pivot.y,\n            step,\n            setValue: (value) => setPivot({ ...pivot, y: value }),\n          },\n        ],\n      ],\n    },\n    affine: {\n      title: 'Affine',\n      inputsGroups: [\n        [\n          {\n            title: 'r0x',\n            value: affine.r0.x,\n            step,\n            setValue: (value) =>\n              setAffine({ ...affine, r0: { ...affine.r0, x: value } }),\n          },\n          {\n            title: 'r0y',\n            value: affine.r0.y,\n            step,\n            setValue: (value) =>\n              setAffine({ ...affine, r0: { ...affine.r0, y: value } }),\n          },\n        ],\n        [\n          {\n            title: 'rXx',\n            value: affine.rX.x,\n            step,\n            setValue: (value) =>\n              setAffine({ ...affine, rX: { ...affine.rX, x: value } }),\n          },\n          {\n            title: 'rXy',\n            value: affine.rX.y,\n            step,\n            setValue: (value) =>\n              setAffine({ ...affine, rX: { ...affine.rX, y: value } }),\n          },\n        ],\n        [\n          {\n            title: 'rYx',\n            value: affine.rY.x,\n            step,\n            setValue: (value) =>\n              setAffine({ ...affine, rY: { ...affine.rY, x: value } }),\n          },\n          {\n            title: 'rYy',\n            value: affine.rY.y,\n            step,\n            setValue: (value) =>\n              setAffine({ ...affine, rY: { ...affine.rY, y: value } }),\n          },\n        ],\n      ],\n    },\n    projective: {\n      title: 'Projective',\n      inputsGroups: [\n        [\n          {\n            title: 'r0x',\n            value: projective.r0.x,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                r0: { ...projective.r0, x: value },\n              }),\n          },\n          {\n            title: 'r0y',\n            value: projective.r0.y,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                r0: { ...projective.r0, y: value },\n              }),\n          },\n        ],\n        [\n          {\n            title: 'rXx',\n            value: projective.rX.x,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                rX: { ...projective.rX, x: value },\n              }),\n          },\n          {\n            title: 'rXy',\n            value: projective.rX.y,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                rX: { ...projective.rX, y: value },\n              }),\n          },\n        ],\n        [\n          {\n            title: 'rYx',\n            value: projective.rY.x,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                rY: { ...projective.rY, x: value },\n              }),\n          },\n          {\n            title: 'rYy',\n            value: projective.rY.y,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                rY: { ...projective.rY, y: value },\n              }),\n          },\n        ],\n        [\n          {\n            title: 'w0',\n            value: projective.w0,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                w0: value,\n              }),\n          },\n          {\n            title: 'wx',\n            value: projective.w.x,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                w: { ...projective.w, x: value },\n              }),\n          },\n          {\n            title: 'wy',\n            value: projective.w.y,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                w: { ...projective.w, y: value },\n              }),\n          },\n        ],\n      ],\n    },\n  };\n\n  useEffect(() => {\n    // We should enable affine and projective transformation only on their own tab\n    // Also disable canvas objects dragging on this tabs\n    if (currentTabName === linearTransformationTabs.projective.title) {\n      setAxesModifiers([\n        bindAffinePoint(normalizedProjectiveForAxes),\n        ...defaultAxesModifiers,\n      ]);\n      setGridModifiers([\n        bindProjectivePoint(normalizedProjective),\n        ...defaultAxesModifiers,\n      ]);\n      setEnabledDragging(false);\n    } else if (currentTabName === linearTransformationTabs.affine.title) {\n      setAxesModifiers([\n        bindAffinePoint(normalizedAffine),\n        ...defaultAxesModifiers,\n      ]);\n      setGridModifiers([\n        bindAffinePoint(normalizedAffine),\n        ...defaultAxesModifiers,\n      ]);\n      setEnabledDragging(false);\n    } else {\n      setAxesModifiers(defaultAxesModifiers);\n      setGridModifiers(defaultAxesModifiers);\n      setEnabledDragging(true);\n    }\n  }, [\n    currentTabName,\n    normalizedProjective,\n    linearTransformationTabs.affine.title,\n    linearTransformationTabs.projective.title,\n    normalizedProjectiveForAxes,\n    normalizedAffine,\n  ]);\n\n  const defaultCanvasElements = (\n    <>\n      <Grid\n        maxCoord={canvasCenter}\n        cellLength={cellLength}\n        modifiers={gridModifiers}\n      />\n      <Axes maxCoord={canvasCenter} modifiers={axesModifiers} />\n      <Pivot\n        position={pivot}\n        modifiers={gridModifiers}\n        dndOptions={\n          new ModifiableDndOptions({\n            draggable: isEnabledDragging,\n            onDragMove: setPivot,\n            modifiers: pivotDndModifiers,\n          })\n        }\n      />\n    </>\n  );\n\n  const defaultLabProps = {\n    tabs: Object.values(linearTransformationTabs),\n    onSelectTab: setCurrentTabName,\n    maxCoord: canvasCenter,\n    canvasWidth,\n    canvasHeight,\n    step,\n    modifiers: getShapeModifiers(),\n    getModifiers: getShapeModifiers,\n    dndModifiers: shapeDndModifiers,\n    isEnabledDragging,\n    defaultCanvasElements,\n  };\n\n  const lab1 = <Lab1 {...defaultLabProps} />;\n  const lab2 = <Lab2 {...defaultLabProps} />;\n  const lab3 = <Lab3 {...defaultLabProps} />;\n  const lab5 = <Lab5 {...defaultLabProps} />;\n  const lab6 = <Lab6 {...defaultLabProps} />;\n\n  return (\n    <>\n      <Header />\n      <HashRouter basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route exact path=\"/lab1\">\n            {lab1}\n          </Route>\n          <Route exact path=\"/lab2\">\n            {lab2}\n          </Route>\n          <Route exact path=\"/lab3\">\n            {lab3}\n          </Route>\n          <Route exact path=\"/lab5\">\n            {lab5}\n          </Route>\n          <Route exact path=\"/lab6\">\n            {lab6}\n          </Route>\n          <Redirect exact from=\"/\" to=\"/lab1\" />\n        </Switch>\n      </HashRouter>\n    </>\n  );\n};\n\nexport default App;\n","/* eslint-disable */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './util/serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/example1.77bc0699.png\";","module.exports = __webpack_public_path__ + \"static/media/example2.05d06b9f.png\";","module.exports = __webpack_public_path__ + \"static/media/example3-1.522d1858.png\";","module.exports = __webpack_public_path__ + \"static/media/example3-2.fd2d8f7f.png\";","module.exports = __webpack_public_path__ + \"static/media/example5.11a0b083.png\";"],"sourceRoot":""}