{"version":3,"sources":["components/modifiableKonvaShapes/modifiableKonvaShapes.service.ts","components/modifiableKonvaShapes/ModifiableLine.tsx","components/Grid/Grid.tsx","components/modifiableKonvaShapes/ModifiableArrow.tsx","components/modifiableKonvaShapes/ModifiableText.tsx","components/Axes/Axes.tsx","util/math.ts","components/App/App.service.ts","components/CustomCanvas/CustomCanvas.tsx","components/PageWraper/PageWrapper.tsx","components/labsPages/Lab1/Shape/elements/OuterShape.tsx","components/labsPages/Lab1/Shape/elements/InnerShape.tsx","components/labsPages/Lab1/Shape/Shape.tsx","components/DimensionsForm/Input/Input.tsx","components/CheckboxesForm/Checkbox.tsx","components/DimensionsForm/Input/Input.service.ts","components/DimensionsForm/InputsGroup.tsx","components/DimensionsForm/FormTabContent.tsx","components/DimensionsForm/DimensionsForm.tsx","components/LeftSideWrapper/LeftSideWrapper.tsx","components/labsPages/Lab1/Lab1.tsx","components/Header/Header.tsx","components/labsPages/Lab2/Curve.tsx","components/labsPages/Lab2/Asymptote.tsx","components/labsPages/Lab2/DescartesFolium.ts","components/labsPages/Lab2/Phi0Line.tsx","components/modifiableKonvaShapes/ModifiableCircle.tsx","components/labsPages/Lab2/Phi0Point.tsx","components/labsPages/Lab2/Tangent.tsx","components/labsPages/Lab2/Normal.tsx","components/LineCollapse/LineCollapse.tsx","components/InfoBlock/InfoBlock.tsx","components/CheckboxesForm/CheckboxesForm.tsx","components/labsPages/Lab2/Lab2.tsx","components/Pivot/Pivot.tsx","components/modifiableKonvaShapes/ModifiableBezier/ModifiableBezier.service.ts","components/modifiableKonvaShapes/ModifiableBezier/ModifiableBezier.tsx","components/labsPages/Lab3/Picture/SupportingLines.tsx","components/modifiableKonvaShapes/ModifiableDndOptions.ts","components/labsPages/Lab3/Picture/SupportingPoints/SupportingPoints.service.ts","components/labsPages/Lab3/Picture/SupportingPoints/SupportingPoints.tsx","components/labsPages/Lab3/Picture/Picture.tsx","components/labsPages/Lab3/picturesParts.ts","components/labsPages/Lab3/Lab3.service.ts","components/labsPages/Lab3/Lab3.tsx","components/labsPages/Lab5/picturesLines.ts","components/labsPages/Lab5/Picture.tsx","errors/UndefinedZCoordinateError.ts","components/labsPages/Lab5/Lab5.service.ts","components/labsPages/Lab5/Lab5.tsx","components/App/App.tsx","util/serviceWorker.ts","index.tsx","assets/examples/example1.png","assets/examples/example2.png","assets/examples/example3-1.png","assets/examples/example3-2.png","assets/examples/example5.png"],"names":["getPoints","from","to","x","y","getMultiplePoints","flatMap","value","applyModifiers","point","modifiers","reduce","result","modifier","z","undefined","ModifiableLine","color","rest","startPoint","points","map","stroke","Grid","maxCoord","cellLength","getGridLine","start","end","key","strokeWidth","lines","push","startY","startX","ModifiableArrow","fill","ModifiableText","position","Axes","getArrow","pointerLength","pointerWidth","getText","axeName","text","fontFamily","fontSize","degreesToRad","degrees","Math","PI","bindOffsetPoint","offset","bindRotatePointByDegreesWithPivot","pivot","func","rotate","rad","cos","sin","bindRotatePointByDeegrees","basePoint","modifiedPoint","bindAffinePoint","r0","rX","rY","bindProjectivePoint","w0","w","CustomCanvas","children","width","height","Col","md","className","PageWrapper","OuterShape","R","L1","L3","L4","closed","InnerShape","L2","circleCenter","getCircleY","scale","sqrt","abs","getCircleLine","circleLines","xStart","yStart","L1ExcludeCircle","Shape","CheckboxType","Input","title","min","unit","step","setValue","Form","Group","as","Row","Label","column","Control","type","required","onChange","event","newValue","parseFloat","target","Number","isNaN","isValidValue","InputsGroup","inputs","FormTabContent","inputsGroups","groupIndex","length","DimensionsForm","tabs","defaultTab","onSelect","Tabs","transition","AccordionCollapse","defaultActiveKey","Tab","eventKey","tabClassName","LeftSideWrapper","Lab1","onSelectTab","canvasWidth","canvasHeight","defaultCanvasElements","useState","setR","setL1","setL2","setL3","setL4","allTabs","src","exampleImage","alt","style","Header","Navbar","bg","Nav","Link","href","process","Curve","descartesFolium","firstBranchPoints","secondBranchPoints","i","getPoint","slice","Asymptote","getAsymtoteSecondCoordParam","DescartesFolium","a","l","this","getL","param","phi","t","getT","phi0","dPoint","getDerivativePoint","ddPoint","getSecondDerivativePoint","tan","Phi0Line","f","invert","ModifiableCircle","dndOptions","draggable","getDraggable","onDragStart","getOnDragStart","onDragEnd","getOnDragEnd","onDragMove","getOnDragMove","Phi0Point","radius","Tangent","defaultProps","bindGetTangentY","Normal","bindGetNormalY","LineCollapse","defaultDisplay","display","setDisplay","onClick","aria-label","Collapse","in","InfoBlock","records","disabled","Check","custom","id","label","checked","checkboxes","checkbox","Checkbox","Lab2","setA","setPhi0","isEnableAsymptote","setEnabledAsymptote","isEnableTangent","setEnabledTangent","isEnableNormale","setEnabledNormale","infoRecords","calculateS","calculateCurvatureR","toFixed","CheckboxesForm","Pivot","fixBezierOrder","endPoints","buildBezierLine","bezierTailPoints","tail","ModifiableBezier","modifiedBezierTailsPoints","bezierEndPoint","bezierLines","firstLine","otherLines","currentTailPoints","prevLinePoints","prevTailPoints","prevEndPoint","line","bezier","SupportingLines","flatten","pointsPair","ModifiableDndOptions","options","onDragAction","getPointFromEvent","onPointMove","parts","setParts","draggedPoint","pointIndex","part","partIndex","newPart","cloneDeep","newParts","clone","splice","replaceDraggedPoint","isContinuous","prevIndex","nextIndex","prevPart","nextPart","newPrevPart","getContinuousPart","newNextPart","replaceContinuousPoint","anotherPart","newAnotherPart","bezierPoint","calclulateContinuousBezierPoint","getPointColor","SupportingPoints","pointsRadius","isEnabledDragging","dndModifiers","buildDndOptions","Picture","isEnabledSupportingLines","normalizePicturePart","picturePart","tuples","sharkParts","swanParts","getFrames","pictureParts1","pictureParts2","framesAmount","points1","points2","diff","fixPointsAmountDifference","frames","range","frameCount","j","Lab3","setEnabledSupportingLines","sharkOrSwan","setSharkOrSwan","framesCounter","setFramesCounter","currentInterval","setCurrentInterval","setFrames","useEffect","clearInterval","SWITCH","interval","setInterval","exampleImage1","exampleImage2","mapArrayToCoord","pictureLines","UndefinedZCoordinateError","Error","bindCreateOnePointPerspective","viewPoint","Lab5","setCustomModifiers","setViewPoint","L","setL","H","setH","R1","setR1","R2","setR2","W","setW","houseLines","h","rl1","rl2","Wl","getHouseLines","canvasCenter","defaultAxesModifiers","normalizeVectorValue","vector","App","currentTabName","setCurrentTabName","setEnabledDragging","setCellLength","setStep","setOffset","rotateDegrees","setRotateDegrees","setPivot","affine","setAffine","normalizedAffine","useMemo","projective","setProjective","normalizedProjective","normalizedProjectiveForAxes","axesModifiers","setAxesModifiers","gridModifiers","setGridModifiers","customModifiers","shapeModifiers","defaultDndModifiers","pivotDndModifiers","shapeDndModifiers","linearTransformationTabs","common","euclid","defaultLabProps","Object","values","lab1","lab2","lab3","lab5","basename","exact","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message","module","exports"],"mappings":"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","file":"static/js/main.33c84e18.chunk.js","sourcesContent":["import Coord from '../../types/Coord';\nimport PointModifier from '../../types/PointModifier';\n\nexport function getPoints(from: Coord, to: Coord): number[] {\n  return [to.x - from.x, to.y - from.y];\n}\n\nexport function getMultiplePoints(from: Coord, to: Coord[]): number[] {\n  return to.flatMap((value) => getPoints(from, value));\n}\n\nexport function applyModifiers(\n  point: Coord,\n  modifiers: PointModifier[]\n): Coord {\n  return modifiers.reduce((result, modifier) => {\n    const value = modifier(result);\n    return {\n      ...value,\n      z: value.z === undefined ? result.z : value.z,\n    };\n  }, point);\n}\n","import React, { FunctionComponent } from 'react';\nimport { Line } from 'react-konva';\nimport Coord from '../../types/Coord';\nimport { ModifiableLinearShape } from '../../types/ModifiableShape';\nimport {\n  applyModifiers,\n  getMultiplePoints,\n} from './modifiableKonvaShapes.service';\n\nexport interface Line {\n  from: Coord;\n  to: Coord[];\n}\n\ntype Props = Line & ModifiableLinearShape;\n\nconst ModifiableLine: FunctionComponent<Props> = ({\n  from,\n  to,\n  modifiers,\n  color,\n  ...rest\n}) => {\n  const startPoint = modifiers ? applyModifiers(from, modifiers) : from;\n\n  const modifiedEndPoints = modifiers\n    ? to.map((point) => applyModifiers(point, modifiers))\n    : to;\n  const points = getMultiplePoints(startPoint, modifiedEndPoints);\n\n  return (\n    <Line\n      x={startPoint.x}\n      y={startPoint.y}\n      points={[0, 0, ...points]}\n      stroke={color || 'black'}\n      {...rest}\n    />\n  );\n};\n\nexport default ModifiableLine;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../types/Coord';\nimport PointModifier from '../../types/PointModifier';\nimport ModifiableLine from '../modifiableKonvaShapes/ModifiableLine';\n\ninterface Props {\n  maxCoord: Coord;\n  cellLength: number;\n  modifiers?: PointModifier[];\n}\n\nconst Grid: FunctionComponent<Props> = ({\n  maxCoord,\n  cellLength,\n  modifiers,\n}) => {\n  const getGridLine = (start: Coord): JSX.Element => {\n    const end: Coord = {\n      x: start.x === -maxCoord.x ? maxCoord.x : start.x,\n      y: start.y === -maxCoord.y ? maxCoord.y : start.y,\n    };\n\n    return (\n      <ModifiableLine\n        key={`${start.x}_${start.y}`}\n        from={start}\n        to={[end]}\n        modifiers={modifiers}\n        strokeWidth={0.3}\n      />\n    );\n  };\n\n  const lines = [];\n\n  lines.push(getGridLine({ x: -maxCoord.x, y: 0 }));\n  lines.push(getGridLine({ x: 0, y: -maxCoord.y }));\n  for (let startY = cellLength; startY < maxCoord.y; startY += cellLength) {\n    lines.push(getGridLine({ x: -maxCoord.x, y: startY }));\n    lines.push(getGridLine({ x: -maxCoord.x, y: -startY }));\n  }\n  for (let startX = cellLength; startX < maxCoord.x; startX += cellLength) {\n    lines.push(getGridLine({ x: startX, y: -maxCoord.y }));\n    lines.push(getGridLine({ x: -startX, y: -maxCoord.y }));\n  }\n\n  return <>{lines}</>;\n};\n\nexport default Grid;\n","import React, { FunctionComponent } from 'react';\nimport { Arrow } from 'react-konva';\nimport Coord from '../../types/Coord';\nimport { ModifiableLinearShape } from '../../types/ModifiableShape';\nimport { applyModifiers, getPoints } from './modifiableKonvaShapes.service';\n\ninterface Props extends ModifiableLinearShape {\n  from: Coord;\n  to: Coord;\n  pointerLength?: number;\n  pointerWidth?: number;\n}\n\nconst ModifiableArrow: FunctionComponent<Props> = ({\n  from,\n  to,\n  modifiers,\n  color,\n  ...rest\n}) => {\n  const points = modifiers\n    ? [from, to].map((point) => applyModifiers(point, modifiers))\n    : [from, to];\n\n  return (\n    <Arrow\n      x={points[0].x}\n      y={points[0].y}\n      points={[0, 0, ...getPoints(points[0], points[1])]}\n      stroke={color}\n      fill={color}\n      {...rest}\n    />\n  );\n};\n\nexport default ModifiableArrow;\n","import React, { FunctionComponent } from 'react';\nimport { Text } from 'react-konva';\nimport Coord from '../../types/Coord';\nimport { ModifiableShape } from '../../types/ModifiableShape';\nimport { applyModifiers } from './modifiableKonvaShapes.service';\n\ninterface Props extends ModifiableShape {\n  position: Coord;\n  text?: string;\n  fontFamily?: string;\n  fontSize?: number;\n}\n\nconst ModifiableText: FunctionComponent<Props> = ({\n  position,\n  modifiers,\n  color,\n  ...rest\n}) => {\n  const { x, y } = modifiers ? applyModifiers(position, modifiers) : position;\n\n  return <Text x={x} y={y} fill={color} {...rest} />;\n};\n\nexport default ModifiableText;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../types/Coord';\nimport PointModifier from '../../types/PointModifier';\nimport ModifiableArrow from '../modifiableKonvaShapes/ModifiableArrow';\nimport ModifiableText from '../modifiableKonvaShapes/ModifiableText';\n\ninterface Props {\n  maxCoord: Coord;\n  modifiers?: PointModifier[];\n}\n\nconst Axes: FunctionComponent<Props> = ({ maxCoord, modifiers }) => {\n  const getArrow = (start: Coord, end: Coord) => (\n    <ModifiableArrow\n      from={start}\n      to={end}\n      modifiers={modifiers}\n      strokeWidth={0.9}\n      pointerLength={15}\n      pointerWidth={8}\n      color=\"grey\"\n    />\n  );\n\n  const getText = (axeName: string, position: Coord) => (\n    <ModifiableText\n      position={position}\n      modifiers={modifiers}\n      text={axeName}\n      fontFamily=\"sans-serif\"\n      fontSize={25}\n      color=\"grey\"\n    />\n  );\n\n  return (\n    <>\n      {getText('x', { x: maxCoord.x - 13, y: 0 })}\n      {getArrow({ x: -maxCoord.x, y: 0 }, { x: maxCoord.x - 15, y: 0 })}\n      {getText('y', { x: 2, y: maxCoord.y })}\n      {getArrow({ x: 0, y: -maxCoord.y }, { x: 0, y: maxCoord.y - 23 })}\n    </>\n  );\n};\n\nexport default Axes;\n","// eslint-disable-next-line import/prefer-default-export\nexport function degreesToRad(degrees: number): number {\n  return degrees * (Math.PI / 180);\n}\n","import Coord from '../../types/Coord';\nimport Affine from '../../types/Affine';\nimport PointModifier from '../../types/PointModifier';\nimport Projective from '../../types/Projective';\nimport { degreesToRad } from '../../util/math';\n\n/**\n * Convert coordinate in pixels to ratio to axes max coordinates\n *\n * @param vector Coordinate value in pixels\n * @returns Ratio of vector to axes max coordinates\n */\nexport function bindNormalizeVectorValueToAxesMaxCoord(\n  maxCoord: Coord\n): PointModifier {\n  return (vector) => ({\n    x: vector.x / maxCoord.x,\n    y: vector.y / maxCoord.y,\n  });\n}\n\nexport function bindInvertY(): PointModifier {\n  return ({ x, y }) => ({ x, y: -y });\n}\n\nexport function bindOffsetPoint(offset: Coord): PointModifier {\n  return ({ x, y }) => ({\n    x: x + offset.x,\n    y: y + offset.y,\n  });\n}\n\nfunction bindCalculateWithOffset(\n  func: PointModifier,\n  offset: Coord\n): PointModifier {\n  return (point) => {\n    const basePoint = {\n      x: point.x - offset.x,\n      y: point.y - offset.y,\n    };\n\n    const modifiedPoint = func(basePoint);\n\n    return {\n      x: modifiedPoint.x + offset.x,\n      y: modifiedPoint.y + offset.y,\n    };\n  };\n}\n\nexport function bindRotatePointByDegreesWithPivot(\n  degrees: number,\n  pivot: Coord\n): PointModifier {\n  const rotate = bindRotatePointByDeegrees(degrees);\n\n  return bindCalculateWithOffset(rotate, pivot);\n}\n\nexport function bindRotatePointByDeegrees(degrees: number): PointModifier {\n  const rad = degreesToRad(degrees);\n\n  return ({ x, y }) => ({\n    x: x * Math.cos(rad) - y * Math.sin(rad),\n    y: x * Math.sin(rad) + y * Math.cos(rad),\n  });\n}\n\nexport function bindAffinePoint({ r0, rX, rY }: Affine): PointModifier {\n  return ({ x, y }) => ({\n    x: r0.x + x * rX.x + y * rY.x,\n    y: r0.y + x * rX.y + y * rY.y,\n  });\n}\n\nexport function bindProjectivePoint({\n  r0,\n  rX,\n  rY,\n  w0,\n  w,\n}: Projective): PointModifier {\n  return ({ x, y }) => ({\n    x: (r0.x * w0 + x * rX.x * w.x + y * rY.x * w.y) / (w0 + x * w.x + y * w.y),\n    y: (r0.y * w0 + x * rX.y * w.x + y * rY.y * w.y) / (w0 + x * w.x + y * w.y),\n  });\n}\n","import React, { FunctionComponent } from 'react';\nimport { Col } from 'react-bootstrap';\nimport { Layer, Stage } from 'react-konva';\n\ninterface Props {\n  width: number;\n  height: number;\n}\n\nconst CustomCanvas: FunctionComponent<Props> = ({\n  children,\n  width,\n  height,\n}) => (\n  <Col>\n    <Stage width={width} height={height}>\n      <Layer>{children}</Layer>\n    </Stage>\n    <Col md={2} className=\"border rounded-bottom bg-light ml-2 text-center\">\n      {width}{height}\n    </Col>\n  </Col>\n);\n\nexport default CustomCanvas;\n","import React, { FunctionComponent } from 'react';\n\nconst PageWrapper: FunctionComponent = ({ children }) => (\n  <div className=\"d-flex justify-conten`t-between my-3 mx-5\">{children}</div>\n);\n\nexport default PageWrapper;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../../../../types/Coord';\nimport PointModifier from '../../../../../types/PointModifier';\nimport ModifiableLine from '../../../../modifiableKonvaShapes/ModifiableLine';\n\ninterface Props {\n  R: number;\n  L1: number;\n  L3: number;\n  L4: number;\n  modifiers?: PointModifier[];\n}\n\nconst OuterShape: FunctionComponent<Props> = ({ R, L1, L3, L4, modifiers }) => {\n  const start: Coord = {\n    x: -L3 / 2,\n    y: -L1 / 2,\n  };\n\n  return (\n    <ModifiableLine\n      from={start}\n      to={[\n        { x: start.x, y: start.y + L1 },\n        { x: start.x - (L4 - L3) / 2, y: start.y + L1 },\n        { x: start.x - (L4 - L3) / 2, y: start.y + L1 + R },\n        { x: start.x, y: start.y + L1 + R + R / 2 },\n        { x: start.x + L3, y: start.y + L1 + R + R / 2 },\n        { x: start.x + L3 + (L4 - L3) / 2, y: start.y + L1 + R },\n        { x: start.x + L3 + (L4 - L3) / 2, y: start.y + L1 },\n        { x: start.x + L3, y: start.y + L1 },\n        { x: start.x + L3, y: start.y },\n        { x: start.x + L3 + (L4 - L3) / 2, y: start.y },\n        { x: start.x + L3 + (L4 - L3) / 2, y: start.y - R },\n        { x: start.x + L3, y: start.y - R - R / 2 },\n        { x: start.x, y: start.y - R - R / 2 },\n        { x: start.x - (L4 - L3) / 2, y: start.y - R },\n        { x: start.x - (L4 - L3) / 2, y: start.y },\n      ]}\n      modifiers={modifiers}\n      closed\n    />\n  );\n};\n\nexport default OuterShape;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../../../../types/Coord';\nimport PointModifier from '../../../../../types/PointModifier';\nimport ModifiableLine from '../../../../modifiableKonvaShapes/ModifiableLine';\n\ninterface Props {\n  R: number;\n  L1: number;\n  L2: number;\n  modifiers?: PointModifier[];\n}\n\nconst InnerShape: FunctionComponent<Props> = ({ R, L1, L2, modifiers }) => {\n  const circleCenter: Coord = { x: 0, y: -L1 / 2 };\n  const circleLineLength = 1;\n\n  const getCircleY = (x: number, scale: number): number => {\n    return (\n      Math.sqrt(Math.abs(R ** 2 - (x - circleCenter.x) ** 2)) * scale +\n      circleCenter.y\n    );\n  };\n\n  const getCircleLine = (x: number, scale: number) => (\n    <ModifiableLine\n      from={{ x, y: getCircleY(x, scale) }}\n      to={[\n        {\n          x: x + circleLineLength,\n          y: getCircleY(x + circleLineLength, scale),\n        },\n      ]}\n      modifiers={modifiers}\n    />\n  );\n\n  const circleLines = [];\n\n  for (let x = -R; x < R; x += circleLineLength) {\n    if (x > L2 / 2 || x < -L2 / 2) {\n      circleLines.push(getCircleLine(x, 1));\n    }\n    circleLines.push(getCircleLine(x, -1));\n  }\n\n  const xStart = -L2 / 2;\n  const yStart = getCircleY(xStart, 1);\n  const L1ExcludeCircle = L1 / 2 + yStart;\n\n  return (\n    <>\n      <ModifiableLine\n        from={{ x: xStart, y: yStart }}\n        to={[\n          { x: xStart, y: yStart + L1 - L1ExcludeCircle + R / 2 },\n          { x: xStart + L2, y: yStart + L1 - L1ExcludeCircle + R / 2 },\n          { x: xStart + L2, y: yStart },\n        ]}\n        modifiers={modifiers}\n      />\n      {circleLines}\n    </>\n  );\n};\n\nexport default InnerShape;\n","import React, { FunctionComponent } from 'react';\nimport OuterShape from './elements/OuterShape';\nimport InnerShape from './elements/InnerShape';\nimport PointModifier from '../../../../types/PointModifier';\n\ninterface Props {\n  R: number;\n  L1: number;\n  L2: number;\n  L3: number;\n  L4: number;\n  modifiers?: PointModifier[];\n}\n\nconst Shape: FunctionComponent<Props> = ({ R, L1, L2, L3, L4, modifiers }) => (\n  <>\n    <OuterShape R={R} L1={L1} L3={L3} L4={L4} modifiers={modifiers} />\n    <InnerShape R={R} L1={L1} L2={L2} modifiers={modifiers} />\n  </>\n);\n\nexport default Shape;\n","import React, { FunctionComponent } from 'react';\nimport { Form, Row, Col } from 'react-bootstrap';\nimport { isValidValue } from './Input.service';\n\nexport interface FormInput {\n  title: string;\n  value: number;\n  min?: number;\n  unit?: string;\n  step?: number;\n  setValue(value: number): void;\n}\n\nconst Input: FunctionComponent<FormInput> = ({\n  title,\n  value,\n  min,\n  unit,\n  step,\n  setValue,\n}) => (\n  <Form.Group as={Row} key={title}>\n    <Form.Label column md={4}>\n      {title}\n    </Form.Label>\n    <Col md={6}>\n      <Form.Control\n        type=\"number\"\n        min={min}\n        step={step}\n        required\n        value={value}\n        onChange={(event) => {\n          const newValue = parseFloat(event.target.value);\n          if (isValidValue(newValue, { min })) {\n            setValue(newValue);\n          }\n        }}\n      />\n    </Col>\n    <Form.Label className=\"px-0\" column>\n      {unit || 'px'}\n    </Form.Label>\n  </Form.Group>\n);\n\nexport default Input;\n","import React, { FunctionComponent } from 'react';\nimport { Form, Row, Col } from 'react-bootstrap';\n\nexport enum CheckboxType {\n  CHECKBOX = 'checkbox',\n  SWITCH = 'switch',\n}\n\nexport interface FormCheckbox {\n  title: string;\n  value: boolean;\n  setValue(value: boolean): void;\n  type?: CheckboxType;\n  disabled?: boolean;\n  onClick?: () => void;\n}\n\nconst Input: FunctionComponent<FormCheckbox> = ({\n  title,\n  value,\n  setValue,\n  type,\n  disabled,\n  onClick,\n}) => (\n  <Form.Group as={Row} key={title}>\n    <Form.Label column>{title}</Form.Label>\n    <Col md={3} className=\"d-flex align-items-center justify-content-center\">\n      <Form.Check\n        custom\n        id={title}\n        label=\"\"\n        type={type}\n        disabled={disabled}\n        checked={value}\n        onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n          setValue(event.target.checked)\n        }\n        onClick={onClick}\n      />\n    </Col>\n  </Form.Group>\n);\n\nexport default Input;\n","// eslint-disable-next-line import/prefer-default-export\nexport function isValidValue(\n  value: number,\n  { min }: { min?: number }\n): boolean {\n  return Number.isNaN(value) || typeof min !== 'number' || value >= min;\n}\n","import React, { FunctionComponent } from 'react';\nimport Input, { FormInput } from './Input';\n\ninterface Props {\n  inputs: FormInput[];\n}\n\nconst InputsGroup: FunctionComponent<Props> = ({ inputs }) => {\n  return (\n    <>\n      {inputs.map(({ title, ...rest }) => (\n        <Input key={title} title={title} {...rest} />\n      ))}\n    </>\n  );\n};\n\nexport default InputsGroup;\n","import React, { FunctionComponent } from 'react';\nimport { Form } from 'react-bootstrap';\nimport { FormInput } from './Input';\nimport InputsGroup from './InputsGroup';\n\ninterface Props {\n  inputsGroups: FormInput[][];\n}\n\nconst FormTabContent: FunctionComponent<Props> = ({ inputsGroups }) => {\n  return (\n    <Form className=\"border border-top-0 rounded-bottom p-2 bg-light\">\n      {inputsGroups.map((inputs, groupIndex) => (\n        <>\n          <InputsGroup inputs={inputs} />\n          {groupIndex !== inputsGroups.length - 1 && <hr />}\n        </>\n      ))}\n    </Form>\n  );\n};\n\nexport default FormTabContent;\n","import React, { FunctionComponent } from 'react';\nimport { AccordionCollapse, Tab, Tabs } from 'react-bootstrap';\nimport FormTabContent from './FormTabContent';\nimport { FormInput } from './Input';\n\nexport interface FormTab {\n  title: string;\n  inputsGroups: FormInput[][];\n}\n\ninterface Props {\n  tabs: FormTab[];\n  defaultTab?: string;\n  onSelect?: (tabName: string | null) => void;\n}\n\nconst DimensionsForm: FunctionComponent<Props> = ({\n  tabs,\n  defaultTab,\n  onSelect,\n}) => {\n  return (\n    <div>\n      <Tabs\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        transition={AccordionCollapse as any}\n        onSelect={onSelect}\n        defaultActiveKey={defaultTab}\n        className=\"border rounded-top justify-content-around\"\n      >\n        {tabs.map(({ title, inputsGroups }) => (\n          <Tab\n            key={title}\n            eventKey={title}\n            title={title}\n            tabClassName=\"border rounded my-1\"\n          >\n            <FormTabContent key={title} inputsGroups={inputsGroups} />\n          </Tab>\n        ))}\n      </Tabs>\n    </div>\n  );\n};\n\nexport default DimensionsForm;\n","import React, { FunctionComponent } from 'react';\nimport { Col } from 'react-bootstrap';\nimport './LeftSideWrapper.css';\n\nconst LeftSideWrapper: FunctionComponent = ({ children }) => (\n  <Col md={3} className=\"left-side-wrapper\">\n    {children}\n  </Col>\n);\n\nexport default LeftSideWrapper;\n","import React, { FunctionComponent, useState } from 'react';\nimport exampleImage from '../../../assets/examples/example1.png';\nimport CustomCanvas from '../../CustomCanvas';\nimport PageWrapper from '../../PageWraper';\nimport Shape from './Shape';\nimport PointModifier from '../../../types/PointModifier';\nimport DimensionsForm, { FormTab } from '../../DimensionsForm';\nimport LeftSideWrapper from '../../LeftSideWrapper';\n\ninterface Props {\n  tabs: FormTab[];\n  onSelectTab: (tabName: string | null) => void;\n  canvasWidth: number;\n  canvasHeight: number;\n  step?: number;\n  modifiers?: PointModifier[];\n  defaultCanvasElements?: JSX.Element;\n}\n\nconst Lab1: FunctionComponent<Props> = ({\n  tabs,\n  onSelectTab,\n  canvasWidth,\n  canvasHeight,\n  step,\n  modifiers,\n  defaultCanvasElements,\n}) => {\n  const [R, setR] = useState(75);\n  const [L1, setL1] = useState(300);\n  const [L2, setL2] = useState(75);\n  const [L3, setL3] = useState(300);\n  const [L4, setL4] = useState(450);\n\n  const tabName = 'Shape';\n\n  const allTabs: FormTab[] = [\n    ...tabs,\n    {\n      title: tabName,\n      inputsGroups: [\n        [\n          { title: 'R', value: R, min: 0, step, setValue: setR },\n          { title: 'L1', value: L1, min: 0, step, setValue: setL1 },\n          { title: 'L2', value: L2, min: 0, step, setValue: setL2 },\n          { title: 'L3', value: L3, min: 0, step, setValue: setL3 },\n          { title: 'L4', value: L4, min: 0, step, setValue: setL4 },\n        ],\n      ],\n    },\n  ];\n\n  return (\n    <PageWrapper>\n      <LeftSideWrapper>\n        <DimensionsForm\n          tabs={allTabs}\n          defaultTab={tabName}\n          onSelect={onSelectTab}\n        />\n      </LeftSideWrapper>\n      <CustomCanvas width={canvasWidth} height={canvasHeight}>\n        <Shape R={R} L1={L1} L2={L2} L3={L3} L4={L4} modifiers={modifiers} />\n        {defaultCanvasElements}\n      </CustomCanvas>\n      <div>\n        <img src={exampleImage} alt=\"example\" style={{ width: '100%' }} />\n      </div>\n    </PageWrapper>\n  );\n};\n\nexport default Lab1;\n","import React, { FunctionComponent } from 'react';\nimport { Nav, Navbar } from 'react-bootstrap';\n\nconst Header: FunctionComponent = () => (\n  <Navbar bg=\"light\">\n    <Nav>\n      <Nav.Link href={`${process.env.PUBLIC_URL}/#/lab1`}>Lab 1</Nav.Link>\n      <Nav.Link href={`${process.env.PUBLIC_URL}/#/lab2`}>Lab 2</Nav.Link>\n      <Nav.Link href={`${process.env.PUBLIC_URL}/#/lab3`}>Lab 3-4</Nav.Link>\n      <Nav.Link href={`${process.env.PUBLIC_URL}/#/lab5`}>Lab 5</Nav.Link>\n    </Nav>\n  </Navbar>\n);\n\nexport default Header;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../../types/Coord';\nimport PointModifier from '../../../types/PointModifier';\nimport ModifiableLine from '../../modifiableKonvaShapes/ModifiableLine';\nimport DescartesFolium from './DescartesFolium';\n\ninterface Props {\n  descartesFolium: DescartesFolium;\n  maxCoord: Coord;\n  modifiers?: PointModifier[];\n}\n\nconst Curve: FunctionComponent<Props> = ({\n  descartesFolium,\n  maxCoord,\n  modifiers,\n}) => {\n  const firstBranchPoints: Coord[] = [];\n  const secondBranchPoints: Coord[] = [];\n\n  for (let i = 0; i <= 180; i += 1) {\n    const point = descartesFolium.getPoint(i);\n    if (\n      firstBranchPoints.length < 90 ||\n      (Math.abs(point.x) < maxCoord.x * 2 && Math.abs(point.y) < maxCoord.y * 2)\n    ) {\n      if (i <= 135) {\n        firstBranchPoints.push(point);\n      } else {\n        secondBranchPoints.push(point);\n      }\n    }\n  }\n\n  return (\n    <>\n      <ModifiableLine\n        from={firstBranchPoints[0]}\n        to={firstBranchPoints.slice(1)}\n        modifiers={modifiers}\n      />\n      <ModifiableLine\n        from={secondBranchPoints[0]}\n        to={secondBranchPoints.slice(1)}\n        modifiers={modifiers}\n      />\n    </>\n  );\n};\n\nexport default Curve;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../../types/Coord';\nimport PointModifier from '../../../types/PointModifier';\nimport ModifiableLine from '../../modifiableKonvaShapes/ModifiableLine';\nimport DescartesFolium from './DescartesFolium';\n\ninterface Props {\n  maxCoord: Coord;\n  descartesFolium: DescartesFolium;\n  color?: string;\n  modifiers?: PointModifier[];\n}\n\nconst Asymptote: FunctionComponent<Props> = ({\n  maxCoord,\n  descartesFolium,\n  color,\n  modifiers,\n}) => {\n  const scale = 2;\n\n  return (\n    <ModifiableLine\n      from={{\n        x: -maxCoord.x * scale,\n        y: descartesFolium.getAsymtoteSecondCoordParam(-maxCoord.x * scale),\n      }}\n      to={[\n        {\n          x: descartesFolium.getAsymtoteSecondCoordParam(-maxCoord.y * scale),\n          y: -maxCoord.y * scale,\n        },\n      ]}\n      color={color}\n      modifiers={modifiers}\n      strokeWidth={1}\n    />\n  );\n};\n\nexport default Asymptote;\n","import Coord from '../../../types/Coord';\nimport { degreesToRad } from '../../../util/math';\n\nexport default class DescartesFolium {\n  private a: number;\n\n  private l: number;\n\n  constructor(a: number) {\n    this.a = a;\n    this.l = DescartesFolium.getL(a);\n  }\n\n  private static getL(a: number): number {\n    return (3 * a) / Math.sqrt(2);\n  }\n\n  /**\n   * If pass x, returns y and vice versa\n   */\n  getAsymtoteSecondCoordParam(param: number): number {\n    return -this.a - param;\n  }\n\n  getPoint(phi: number): Coord {\n    const t = DescartesFolium.getT(phi);\n\n    return {\n      x: (3 * this.a * t) / (1 + t ** 3),\n      y: (3 * this.a * t ** 2) / (1 + t ** 3),\n    };\n  }\n\n  private static getT(phi: number): number {\n    return Math.tan(degreesToRad(phi));\n  }\n\n  getDerivativePoint(phi: number): Coord {\n    const t = DescartesFolium.getT(phi);\n\n    return {\n      x:\n        (-9 * this.a * t ** 3) / (t ** 3 + 1) ** 2 +\n        3 * (this.a / (t ** 3 + 1)),\n      y:\n        (-9 * this.a * t ** 4) / (t ** 3 + 1) ** 2 +\n        6 * ((this.a * t) / (t ** 3 + 1)),\n    };\n  }\n\n  getSecondDerivativePoint(phi: number): Coord {\n    const t = DescartesFolium.getT(phi);\n\n    return {\n      x:\n        (54 * this.a * t ** 5) / (t ** 3 + 1) ** 3 -\n        36 * this.a * (t ** 2 / (t ** 3 + 1) ** 2),\n      y:\n        (54 * this.a * t ** 6) / (t ** 3 + 1) ** 3 -\n        54 * this.a * (t ** 3 / (t ** 3 + 1) ** 2) +\n        (6 * this.a) / (t ** 3 + 1),\n    };\n  }\n\n  bindGetTangentY(phi0: number): (x: number) => number {\n    const point = this.getPoint(phi0);\n    const dPoint = this.getDerivativePoint(phi0);\n\n    return (x) => (dPoint.y / dPoint.x) * (x - point.x) + point.y;\n  }\n\n  bindGetNormalY(phi0: number): (x: number) => number {\n    const point = this.getPoint(phi0);\n    const dPoint = this.getDerivativePoint(phi0);\n\n    return (x) => -(dPoint.x / dPoint.y) * (x - point.x) + point.y;\n  }\n\n  calculateS(): number {\n    return (3 / 2) * this.a ** 2;\n  }\n\n  calculateCurvatureR(phi: number): number {\n    const dPoint = this.getDerivativePoint(phi);\n    const ddPoint = this.getSecondDerivativePoint(phi);\n\n    return (\n      (dPoint.x ** 2 + dPoint.y ** 2) ** 1.5 /\n      Math.abs(dPoint.x * ddPoint.y - dPoint.y * ddPoint.x)\n    );\n  }\n}\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../../types/Coord';\nimport PointModifier from '../../../types/PointModifier';\nimport ModifiableLine from '../../modifiableKonvaShapes/ModifiableLine';\n\ninterface Props {\n  maxCoord: Coord;\n  f(x: number): number;\n  invert?: boolean;\n  color?: string;\n  modifiers?: PointModifier[];\n}\n\nconst Phi0Line: FunctionComponent<Props> = ({\n  maxCoord,\n  f,\n  invert,\n  color,\n  modifiers,\n}) => {\n  const scale = invert ? -1 : 1;\n\n  return (\n    <ModifiableLine\n      from={{\n        x: -maxCoord.x,\n        y: f(-maxCoord.x) * scale,\n      }}\n      to={[\n        {\n          x: maxCoord.x,\n          y: f(maxCoord.x) * scale,\n        },\n      ]}\n      color={color}\n      modifiers={modifiers}\n    />\n  );\n};\n\nexport default Phi0Line;\n","import React, { FunctionComponent } from 'react';\nimport { Circle } from 'react-konva';\nimport Coord from '../../types/Coord';\nimport { ModifiableShape } from '../../types/ModifiableShape';\nimport { applyModifiers } from './modifiableKonvaShapes.service';\n\ninterface Props extends ModifiableShape {\n  position: Coord;\n  radius: number;\n}\n\nconst ModifiableCircle: FunctionComponent<Props> = ({\n  position,\n  modifiers,\n  color,\n  dndOptions,\n  ...rest\n}) => {\n  const { x, y } = modifiers ? applyModifiers(position, modifiers) : position;\n\n  return (\n    <Circle\n      x={x}\n      y={y}\n      fill={color}\n      draggable={dndOptions?.getDraggable()}\n      onDragStart={dndOptions?.getOnDragStart()}\n      onDragEnd={dndOptions?.getOnDragEnd()}\n      onDragMove={dndOptions?.getOnDragMove()}\n      {...rest}\n    />\n  );\n};\n\nexport default ModifiableCircle;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../../types/Coord';\nimport PointModifier from '../../../types/PointModifier';\nimport ModifiableCircle from '../../modifiableKonvaShapes/ModifiableCircle';\n\ninterface Props {\n  position: Coord;\n  modifiers?: PointModifier[];\n  color?: string;\n}\n\nconst Phi0Point: FunctionComponent<Props> = ({\n  position,\n  modifiers,\n  color,\n}) => (\n  <ModifiableCircle\n    position={position}\n    radius={5}\n    modifiers={modifiers}\n    color={color}\n  />\n);\n\nexport default Phi0Point;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../../types/Coord';\nimport PointModifier from '../../../types/PointModifier';\nimport DescartesFolium from './DescartesFolium';\nimport Phi0Line from './Phi0Line';\nimport Phi0Point from './Phi0Point';\n\ninterface Props {\n  maxCoord: Coord;\n  descartesFolium: DescartesFolium;\n  phi: number;\n  color?: string;\n  modifiers?: PointModifier[];\n}\n\nconst Tangent: FunctionComponent<Props> = ({\n  maxCoord,\n  descartesFolium,\n  phi,\n  color,\n  modifiers,\n}) => {\n  const f = descartesFolium.bindGetTangentY(phi);\n  const pointPosition = descartesFolium.getPoint(phi);\n\n  const defaultProps = {\n    f,\n    position: pointPosition,\n    color,\n    maxCoord,\n    modifiers,\n  };\n\n  return (\n    <>\n      <Phi0Line {...defaultProps} />\n      <Phi0Point {...defaultProps} />\n    </>\n  );\n};\n\nexport default Tangent;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../../types/Coord';\nimport PointModifier from '../../../types/PointModifier';\nimport DescartesFolium from './DescartesFolium';\nimport Phi0Line from './Phi0Line';\nimport Phi0Point from './Phi0Point';\n\ninterface Props {\n  maxCoord: Coord;\n  descartesFolium: DescartesFolium;\n  phi: number;\n  color?: string;\n  modifiers?: PointModifier[];\n}\n\nconst Normal: FunctionComponent<Props> = ({\n  maxCoord,\n  descartesFolium,\n  phi,\n  color,\n  modifiers,\n}) => {\n  const f = descartesFolium.bindGetNormalY(phi);\n  const pointPosition = descartesFolium.getPoint(phi);\n\n  const defaultProps = {\n    f,\n    position: pointPosition,\n    maxCoord,\n    color,\n    modifiers,\n  };\n\n  return (\n    <>\n      <Phi0Line {...defaultProps} />\n      <Phi0Point {...defaultProps} />\n    </>\n  );\n};\n\nexport default Normal;\n","import React, { FunctionComponent, useState } from 'react';\nimport { Collapse } from 'react-bootstrap';\nimport './LineCollapse.css';\n\ninterface Props {\n  defaultDisplay?: boolean;\n}\n\nconst LineCollapse: FunctionComponent<Props> = ({\n  children,\n  defaultDisplay,\n}) => {\n  const [display, setDisplay] = useState(\n    defaultDisplay === undefined ? true : defaultDisplay\n  );\n\n  return (\n    <div>\n      <div className=\"d-flex\">\n        <hr className=\"col-10 mx-auto\" />\n        <button\n          type=\"button\"\n          onClick={() => setDisplay(!display)}\n          className=\"collapse-button border rounded-circle my-auto\"\n          aria-label=\"Collapse\"\n        />\n      </div>\n      <Collapse in={display}>\n        <div>{children}</div>\n      </Collapse>\n    </div>\n  );\n};\n\nexport default LineCollapse;\n","import React, { FunctionComponent } from 'react';\nimport { Form, Row } from 'react-bootstrap';\nimport LineCollapse from '../LineCollapse';\n\nexport interface InfoRecord {\n  title: string;\n  value: string | number;\n  unit?: string;\n}\n\ninterface Props {\n  records: InfoRecord[];\n}\n\nconst InfoBlock: FunctionComponent<Props> = ({ records }) => {\n  return (\n    <Form className=\"border rounded p-2 bg-light\">\n      <LineCollapse>\n        {records.map(({ title, value, unit }) => (\n          <Form.Group as={Row} key={title}>\n            <Form.Label column md={7}>\n              {title}\n            </Form.Label>\n            <Form.Label column md={5}>\n              {value} {unit}\n            </Form.Label>\n          </Form.Group>\n        ))}\n      </LineCollapse>\n    </Form>\n  );\n};\n\nexport default InfoBlock;\n","import React, { FunctionComponent } from 'react';\nimport { Form } from 'react-bootstrap';\nimport LineCollapse from '../LineCollapse';\nimport Checkbox, { FormCheckbox } from './Checkbox';\n\ninterface Props {\n  checkboxes: FormCheckbox[];\n}\n\nconst DimensionsForm: FunctionComponent<Props> = ({ checkboxes }) => {\n  return (\n    <Form className=\"border rounded p-2 bg-light\">\n      <LineCollapse>\n        {checkboxes.map((checkbox) => (\n          <Checkbox {...checkbox} />\n        ))}\n      </LineCollapse>\n    </Form>\n  );\n};\n\nexport default DimensionsForm;\n","import React, { FunctionComponent, useState } from 'react';\nimport CustomCanvas from '../../CustomCanvas';\nimport PageWrapper from '../../PageWraper';\nimport Coord from '../../../types/Coord';\nimport PointModifier from '../../../types/PointModifier';\nimport DimensionsForm, { FormTab } from '../../DimensionsForm';\nimport exampleImage from '../../../assets/examples/example2.png';\nimport Curve from './Curve';\nimport Asymptote from './Asymptote';\nimport DescartesFolium from './DescartesFolium';\nimport Tangent from './Tangent';\nimport Normal from './Normal';\nimport InfoBlock, { InfoRecord } from '../../InfoBlock';\nimport LeftSideWrapper from '../../LeftSideWrapper';\nimport CheckboxesForm, { FormCheckbox } from '../../CheckboxesForm';\n\ninterface Props {\n  tabs: FormTab[];\n  onSelectTab(tabName: string | null): void;\n  maxCoord: Coord;\n  canvasWidth: number;\n  canvasHeight: number;\n  step?: number;\n  modifiers?: PointModifier[];\n  defaultCanvasElements?: JSX.Element;\n}\n\nconst Lab2: FunctionComponent<Props> = ({\n  tabs,\n  onSelectTab,\n  maxCoord,\n  canvasWidth,\n  canvasHeight,\n  step,\n  modifiers,\n  defaultCanvasElements,\n}) => {\n  const [a, setA] = useState(150);\n  const [phi0, setPhi0] = useState(0);\n  const [isEnableAsymptote, setEnabledAsymptote] = useState(true);\n  const [isEnableTangent, setEnabledTangent] = useState(true);\n  const [isEnableNormale, setEnabledNormale] = useState(true);\n\n  const descartesFolium = new DescartesFolium(a);\n\n  const tabName = 'Curve';\n\n  const allTabs: FormTab[] = [\n    ...tabs,\n    {\n      title: tabName,\n      inputsGroups: [\n        [{ title: 'a', value: a, step, setValue: setA }],\n        [\n          {\n            title: 'phi0',\n            value: phi0,\n            step: 1,\n            unit: 'deg',\n            setValue: setPhi0,\n          },\n        ],\n      ],\n    },\n  ];\n\n  const infoRecords: InfoRecord[] = [\n    {\n      title: 'S<OCAB>',\n      value: descartesFolium.calculateS(),\n      unit: 'px',\n    },\n    {\n      title: 'S<OVU>',\n      value: descartesFolium.calculateS(),\n      unit: 'px',\n    },\n    {\n      title: 'Curvature radius',\n      value: descartesFolium.calculateCurvatureR(phi0).toFixed(1),\n      unit: 'px',\n    },\n  ];\n\n  const checkboxes: FormCheckbox[] = [\n    {\n      title: 'Asymptote',\n      value: isEnableAsymptote,\n      setValue: setEnabledAsymptote,\n    },\n    {\n      title: 'Tangent',\n      value: isEnableTangent,\n      setValue: setEnabledTangent,\n    },\n    {\n      title: 'Normale',\n      value: isEnableNormale,\n      setValue: setEnabledNormale,\n    },\n  ];\n\n  const defaultProps = {\n    descartesFolium,\n    maxCoord,\n    modifiers,\n    phi: phi0,\n  };\n\n  return (\n    <PageWrapper>\n      <LeftSideWrapper>\n        <DimensionsForm\n          tabs={allTabs}\n          defaultTab={tabName}\n          onSelect={onSelectTab}\n        />\n        <InfoBlock records={infoRecords} />\n        <CheckboxesForm checkboxes={checkboxes} />\n      </LeftSideWrapper>\n      <CustomCanvas width={canvasWidth} height={canvasHeight}>\n        <Curve {...defaultProps} />\n        {isEnableAsymptote && <Asymptote color=\"red\" {...defaultProps} />}\n        {isEnableTangent && <Tangent color=\"skyblue\" {...defaultProps} />}\n        {isEnableNormale && <Normal color=\"hotpink\" {...defaultProps} />}\n        {defaultCanvasElements}\n      </CustomCanvas>\n      <div>\n        <img src={exampleImage} alt=\"example\" style={{ width: '100%' }} />\n      </div>\n    </PageWrapper>\n  );\n};\n\nexport default Lab2;\n","import React, { FunctionComponent } from 'react';\nimport Coord from '../../types/Coord';\nimport PointModifier from '../../types/PointModifier';\nimport ModifiableCircle from '../modifiableKonvaShapes/ModifiableCircle';\nimport ModifiableDndOptions from '../modifiableKonvaShapes/ModifiableDndOptions';\n\ninterface Props {\n  position: Coord;\n  modifiers?: PointModifier[];\n  dndOptions?: ModifiableDndOptions;\n}\n\nconst Pivot: FunctionComponent<Props> = ({\n  position,\n  modifiers,\n  dndOptions,\n}) => {\n  return (\n    <ModifiableCircle\n      position={position}\n      modifiers={modifiers}\n      radius={5}\n      color=\"red\"\n      dndOptions={dndOptions}\n    />\n  );\n};\n\nexport default Pivot;\n","import Coord from '../../../types/Coord';\nimport { getMultiplePoints } from '../modifiableKonvaShapes.service';\nimport BezierLine from './BezierLine';\n\nfunction fixBezierOrder(endPoints: number[]): number[] {\n  return endPoints.length <= 4\n    ? fixBezierOrder([0, 0, ...endPoints])\n    : endPoints;\n}\n\n// eslint-disable-next-line import/prefer-default-export\nexport function buildBezierLine(\n  startPoint: Coord,\n  bezierTailPoints: Coord[]\n): BezierLine {\n  return {\n    start: startPoint,\n    tail: [\n      0,\n      0,\n      ...fixBezierOrder(getMultiplePoints(startPoint, bezierTailPoints)),\n    ],\n  };\n}\n","import React, { FunctionComponent } from 'react';\nimport { Line } from 'react-konva';\nimport Coord from '../../../types/Coord';\nimport { ModifiableLinearShape } from '../../../types/ModifiableShape';\nimport { applyModifiers } from '../modifiableKonvaShapes.service';\nimport BezierLine from './BezierLine';\nimport { buildBezierLine } from './ModifiableBezier.service';\n\ninterface Props extends ModifiableLinearShape {\n  from: Coord;\n  to: Coord[][];\n}\n\n/**\n * @param to One part of array is a bezier points and an end point. You don't\n *   need to specify a start point of the next part of curve, it will be taken\n *   from end point of previous part of curve.\n */\nconst ModifiableBezier: FunctionComponent<Props> = ({\n  from,\n  to,\n  modifiers,\n  color,\n  closed,\n  ...rest\n}) => {\n  const startPoint = modifiers ? applyModifiers(from, modifiers) : from;\n\n  const modifiedBezierTailsPoints: Coord[][] = modifiers\n    ? to.map((bezierEndPoint) =>\n        bezierEndPoint.map((point) => applyModifiers(point, modifiers))\n      )\n    : to;\n\n  const bezierLines: BezierLine[] = [];\n\n  const firstLine = buildBezierLine(startPoint, modifiedBezierTailsPoints[0]);\n\n  const otherLines = modifiedBezierTailsPoints\n    .slice(1)\n    .map((currentTailPoints, i) => {\n      const prevLinePoints = modifiedBezierTailsPoints[i];\n      const prevEndPoint = prevLinePoints[prevLinePoints.length - 1];\n\n      return buildBezierLine(prevEndPoint, currentTailPoints);\n    });\n\n  bezierLines.push(firstLine, ...otherLines);\n\n  if (closed) {\n    const prevTailPoints =\n      modifiedBezierTailsPoints[modifiedBezierTailsPoints.length - 1];\n    const prevEndPoint = prevTailPoints[prevTailPoints.length - 1];\n\n    bezierLines.push(buildBezierLine(prevEndPoint, [startPoint]));\n  }\n\n  return (\n    <>\n      {bezierLines.map((line) => (\n        <Line\n          x={line.start.x}\n          y={line.start.y}\n          points={line.tail}\n          stroke={color || 'black'}\n          bezier\n          {...rest}\n        />\n      ))}\n    </>\n  );\n};\n\nexport default ModifiableBezier;\n","import { flatten } from 'lodash';\nimport React, { FunctionComponent } from 'react';\nimport Coord from '../../../../types/Coord';\nimport PointModifier from '../../../../types/PointModifier';\nimport ModifiableLine from '../../../modifiableKonvaShapes/ModifiableLine';\n\ninterface Props {\n  points: Coord[][];\n  strokeWidth?: number;\n  modifiers?: PointModifier[];\n}\n\nconst SupportingLines: FunctionComponent<Props> = ({\n  points,\n  strokeWidth,\n  modifiers,\n}) => {\n  const from = points[points.length - 1][1];\n\n  return (\n    <>\n      <ModifiableLine\n        from={from}\n        to={flatten(points)}\n        modifiers={modifiers}\n        color=\"hotpink\"\n        strokeWidth={strokeWidth}\n      />\n      <ModifiableLine\n        from={from}\n        to={[...points.map((pointsPair) => pointsPair[1])]}\n        modifiers={modifiers}\n        color=\"skyblue\"\n        strokeWidth={strokeWidth}\n      />\n    </>\n  );\n};\n\nexport default SupportingLines;\n","import { KonvaEventObject } from 'konva/types/Node';\nimport Coord from '../../types/Coord';\nimport PointModifier from '../../types/PointModifier';\nimport { applyModifiers } from './modifiableKonvaShapes.service';\n\nexport type DragAction = (point: Coord) => void;\n\ninterface IModifiableDndOptions {\n  draggable?: boolean;\n  onDragStart?: DragAction;\n  onDragEnd?: DragAction;\n  onDragMove?: DragAction;\n  modifiers?: PointModifier[];\n}\n\nexport default class ModifiableDndOptions {\n  private draggable: boolean;\n  private onDragStart?: DragAction;\n  private onDragEnd?: DragAction;\n  private onDragMove?: DragAction;\n  private modifiers: PointModifier[];\n\n  constructor(options: IModifiableDndOptions) {\n    this.draggable = options.draggable === undefined ? true : options.draggable;\n    this.onDragStart = options.onDragStart;\n    this.onDragEnd = options.onDragEnd;\n    this.onDragMove = options.onDragMove;\n    this.modifiers = options.modifiers || [];\n  }\n\n  getDraggable(): boolean {\n    return this.draggable;\n  }\n\n  getOnDragStart(): (event: KonvaEventObject<DragEvent>) => void {\n    return (event) => this.onDragAction(event, this.onDragStart);\n  }\n\n  getOnDragEnd(): (event: KonvaEventObject<DragEvent>) => void {\n    return (event) => this.onDragAction(event, this.onDragEnd);\n  }\n\n  getOnDragMove(): (event: KonvaEventObject<DragEvent>) => void {\n    return (event) => this.onDragAction(event, this.onDragMove);\n  }\n\n  private onDragAction(\n    event: KonvaEventObject<DragEvent>,\n    onDragAction?: DragAction\n  ): void {\n    if (!onDragAction) {\n      return;\n    }\n    const point = applyModifiers(\n      ModifiableDndOptions.getPointFromEvent(event),\n      this.modifiers\n    );\n    onDragAction(point);\n  }\n\n  static getPointFromEvent(event: KonvaEventObject<DragEvent>): Coord {\n    return {\n      x: event.target.x(),\n      y: event.target.y(),\n    };\n  }\n}\n","import { clone, cloneDeep } from 'lodash';\nimport Coord from '../../../../../types/Coord';\nimport PicturePart from '../../../../../types/PicturePart';\n\ninterface OnPointMoveArgs {\n  parts: PicturePart[];\n  setParts?: (parts: PicturePart[]) => void;\n  draggedPoint: Coord;\n  pointIndex: number;\n  part: PicturePart;\n  partIndex: number;\n}\n\nexport function onPointMove({\n  parts,\n  setParts,\n  draggedPoint,\n  pointIndex,\n  part,\n  partIndex,\n}: OnPointMoveArgs): void {\n  if (!setParts) {\n    return;\n  }\n\n  const newPart = cloneDeep(part);\n  const newParts = clone(parts);\n\n  replaceDraggedPoint(newParts, newPart, partIndex, draggedPoint, pointIndex);\n  replaceContinuousPoint(newParts, newPart, partIndex);\n\n  setParts(newParts);\n}\n\nfunction replaceDraggedPoint(\n  newParts: PicturePart[],\n  newPart: PicturePart,\n  partIndex: number,\n  draggedPoint: Coord,\n  pointIndex: number\n): void {\n  newPart.points.splice(pointIndex, 1, draggedPoint);\n  newParts.splice(partIndex, 1, newPart);\n}\n\nfunction replaceContinuousPoint(\n  newParts: PicturePart[],\n  newPart: PicturePart,\n  partIndex: number\n): void {\n  if (newPart.isContinuous && newParts.length > 1) {\n    const prevIndex = partIndex ? partIndex - 1 : newParts.length - 1;\n    const nextIndex = partIndex === newParts.length - 1 ? 0 : partIndex + 1;\n\n    const prevPart = newParts[prevIndex];\n    const nextPart = newParts[nextIndex];\n\n    if (prevPart.isContinuous) {\n      const newPrevPart = getContinuousPart(\n        newPart,\n        prevPart,\n        prevPart.points[1]\n      );\n      newParts.splice(prevIndex, 1, newPrevPart);\n    }\n    if (nextPart.isContinuous) {\n      const newNextPart = getContinuousPart(\n        newPart,\n        nextPart,\n        newPart.points[1]\n      );\n      newParts.splice(nextIndex, 1, newNextPart);\n    }\n  }\n}\n\nfunction getContinuousPart(\n  part: PicturePart,\n  anotherPart: PicturePart,\n  point: Coord\n): PicturePart {\n  const newAnotherPart = cloneDeep(anotherPart);\n  newAnotherPart.points[0] = calclulateContinuousBezierPoint(\n    part.points[0],\n    point\n  );\n  return newAnotherPart;\n}\n\nfunction calclulateContinuousBezierPoint(\n  bezierPoint: Coord,\n  point: Coord\n): Coord {\n  return {\n    x: 2 * point.x - bezierPoint.x,\n    y: 2 * point.y - bezierPoint.y,\n  };\n}\n\nexport function getPointColor(\n  pointIndex: number,\n  isContinuous: boolean\n): string {\n  if (pointIndex) {\n    return 'skyblue';\n  }\n  if (isContinuous) {\n    return 'lightgreen';\n  }\n  return 'hotpink';\n}\n","import React, { FunctionComponent } from 'react';\nimport PicturePart from '../../../../../types/PicturePart';\nimport PointModifier from '../../../../../types/PointModifier';\nimport ModifiableCircle from '../../../../modifiableKonvaShapes/ModifiableCircle';\nimport ModifiableDndOptions from '../../../../modifiableKonvaShapes/ModifiableDndOptions';\nimport { getPointColor, onPointMove } from './SupportingPoints.service';\n\ninterface Props {\n  parts: PicturePart[];\n  pointsRadius: number;\n  isEnabledDragging?: boolean;\n  dndModifiers?: PointModifier[];\n  modifiers?: PointModifier[];\n  setParts?: (parts: PicturePart[]) => void;\n}\n\nconst SupportingPoints: FunctionComponent<Props> = ({\n  parts,\n  pointsRadius,\n  isEnabledDragging,\n  dndModifiers,\n  modifiers,\n  setParts,\n}) => {\n  const buildDndOptions = (\n    part: PicturePart,\n    partIndex: number,\n    pointIndex: number\n  ): ModifiableDndOptions =>\n    new ModifiableDndOptions({\n      modifiers: dndModifiers,\n      draggable: isEnabledDragging,\n      onDragMove: (draggedPoint) =>\n        onPointMove({\n          parts,\n          setParts,\n          draggedPoint,\n          pointIndex,\n          part,\n          partIndex,\n        }),\n    });\n\n  return (\n    <>\n      {parts.map((part, partIndex) =>\n        part.points.map((point, pointIndex) => (\n          <ModifiableCircle\n            position={point}\n            radius={pointsRadius}\n            color={getPointColor(pointIndex, !!part.isContinuous)}\n            modifiers={modifiers}\n            dndOptions={buildDndOptions(part, partIndex, pointIndex)}\n          />\n        ))\n      )}\n    </>\n  );\n};\n\nexport default SupportingPoints;\n","import React, { FunctionComponent } from 'react';\nimport PicturePart from '../../../../types/PicturePart';\nimport PointModifier from '../../../../types/PointModifier';\nimport ModifiableBezier from '../../../modifiableKonvaShapes/ModifiableBezier';\nimport SupportingLines from './SupportingLines';\nimport SupportingPoints from './SupportingPoints';\n\ninterface Props {\n  parts: PicturePart[];\n  setParts(parts: PicturePart[]): void;\n  modifiers?: PointModifier[];\n  dndModifiers?: PointModifier[];\n  isEnabledDragging?: boolean;\n  isEnabledSupportingLines?: boolean;\n}\n\nconst Picture: FunctionComponent<Props> = ({\n  parts,\n  setParts,\n  modifiers,\n  dndModifiers,\n  isEnabledDragging,\n  isEnabledSupportingLines,\n}) => {\n  const points = parts.map((part) => part.points);\n  const from = points[parts.length - 1][1];\n\n  return (\n    <>\n      <ModifiableBezier\n        from={from}\n        to={points}\n        modifiers={modifiers}\n        color=\"black\"\n      />\n      {isEnabledSupportingLines && (\n        <>\n          <SupportingLines\n            points={points}\n            strokeWidth={1.2}\n            modifiers={modifiers}\n          />\n          <SupportingPoints\n            pointsRadius={5}\n            parts={parts}\n            isEnabledDragging={isEnabledDragging}\n            dndModifiers={dndModifiers}\n            modifiers={modifiers}\n            setParts={setParts}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Picture;\n","import Coord from '../../../types/Coord';\nimport PicturePart from '../../../types/PicturePart';\n\ntype PicturePartTuple = [Coord, Coord, boolean?];\n\nfunction normalizePicturePart(picturePart: PicturePartTuple): PicturePart {\n  const points = normalizeCoords([picturePart[0], picturePart[1]]);\n  return {\n    points: [points[0], points[1]],\n    isContinuous: picturePart[2],\n  };\n}\n\nfunction normalizeCoords(pointsPair: Coord[]): Coord[] {\n  return pointsPair.map((point) => ({\n    x: point.x - 400,\n    y: -point.y + 400,\n  }));\n}\n\n/**\n * First point in the points pair is a bezier point for curve constructing.\n * Second point in the pair is a end point of curve.\n *\n * So the first point of every next line is an end point of previous pair\n * and we don't need to specify it.\n */\nconst sharkPointsTuples: PicturePartTuple[] = [\n  [\n    { x: 179, y: 500 },\n    { x: 113, y: 470 },\n  ],\n  [\n    { x: 68, y: 449 },\n    { x: 52, y: 421 },\n  ],\n  [\n    { x: 44, y: 404 },\n    { x: 49, y: 390 },\n  ],\n  [\n    { x: 72, y: 343 },\n    { x: 125, y: 322 },\n  ],\n  [\n    { x: 164, y: 304 },\n    { x: 206, y: 306 },\n  ],\n  [\n    { x: 198, y: 277 },\n    { x: 189, y: 257 },\n  ],\n  [\n    { x: 102, y: 0 },\n    { x: 258, y: 237 },\n  ],\n  [\n    { x: 268, y: 251 },\n    { x: 283, y: 277 },\n  ],\n  [\n    { x: 298, y: 260 },\n    { x: 310, y: 252 },\n  ],\n  [\n    { x: 409, y: 163 },\n    { x: 464, y: 164 },\n  ],\n  [\n    { x: 485, y: 164 },\n    { x: 478, y: 183 },\n  ],\n  [\n    { x: 441, y: 228 },\n    { x: 425, y: 327 },\n  ],\n  [\n    { x: 440, y: 332 },\n    { x: 454, y: 336 },\n  ],\n  [\n    { x: 500, y: 268 },\n    { x: 532, y: 275 },\n  ],\n  [\n    { x: 543, y: 282 },\n    { x: 538, y: 294 },\n  ],\n  [\n    { x: 519, y: 318 },\n    { x: 513, y: 365 },\n  ],\n  [\n    { x: 543, y: 375 },\n    { x: 573, y: 380 },\n  ],\n  [\n    { x: 712, y: 312 },\n    { x: 742, y: 217 },\n  ],\n  [\n    { x: 747, y: 207 },\n    { x: 751, y: 222 },\n  ],\n  [{ x: 745, y: 316 }, { x: 665, y: 420 }, true],\n  [{ x: 610, y: 509 }, { x: 709, y: 563 }, true],\n  [\n    { x: 726, y: 577 },\n    { x: 702, y: 581 },\n  ],\n  [\n    { x: 672, y: 580 },\n    { x: 627, y: 526 },\n  ],\n  [\n    { x: 590, y: 457 },\n    { x: 582, y: 443 },\n  ],\n  [\n    { x: 555, y: 440 },\n    { x: 523, y: 458 },\n  ],\n  [\n    { x: 540, y: 535 },\n    { x: 484, y: 466 },\n  ],\n  [\n    { x: 439, y: 466 },\n    { x: 379, y: 484 },\n  ],\n  [\n    { x: 480, y: 870 },\n    { x: 298, y: 510 },\n  ],\n];\n\nconst swanPointsTuples: PicturePartTuple[] = [\n  [\n    { x: 95, y: 578 },\n    { x: 105, y: 549 },\n  ],\n  [\n    { x: 70, y: 530 },\n    { x: 76, y: 499 },\n  ],\n  [\n    { x: 64, y: 481 },\n    { x: 71, y: 461 },\n  ],\n  [\n    { x: 104, y: 490 },\n    { x: 146, y: 492 },\n  ],\n  [\n    { x: 139, y: 484 },\n    { x: 139, y: 484 },\n  ],\n  [{ x: 150, y: 495 }, { x: 279, y: 427 }, true],\n  [{ x: 432, y: 337 }, { x: 550, y: 391 }, true],\n  [\n    { x: 500, y: 325 },\n    { x: 529, y: 178 },\n  ],\n  [\n    { x: 555, y: 150 },\n    { x: 626, y: 186 },\n  ],\n  [\n    { x: 636, y: 174 },\n    { x: 640, y: 208 },\n  ],\n  [\n    { x: 700, y: 250 },\n    { x: 675, y: 250 },\n  ],\n  [\n    { x: 612, y: 230 },\n    { x: 575, y: 239 },\n  ],\n  [\n    { x: 550, y: 360 },\n    { x: 695, y: 438 },\n  ],\n  [\n    { x: 780, y: 520 },\n    { x: 692, y: 578 },\n  ],\n  [\n    { x: 692, y: 596 },\n    { x: 664, y: 609 },\n  ],\n  [\n    { x: 654, y: 605 },\n    { x: 657, y: 593 },\n  ],\n  [\n    { x: 621, y: 629 },\n    { x: 609, y: 611 },\n  ],\n  [\n    { x: 546, y: 655 },\n    { x: 514, y: 629 },\n  ],\n  [\n    { x: 476, y: 670 },\n    { x: 429, y: 641 },\n  ],\n  [\n    { x: 408, y: 664 },\n    { x: 387, y: 641 },\n  ],\n  [\n    { x: 345, y: 664 },\n    { x: 312, y: 634 },\n  ],\n  [\n    { x: 281, y: 663 },\n    { x: 236, y: 617 },\n  ],\n  [\n    { x: 206, y: 626 },\n    { x: 183, y: 614 },\n  ],\n  [\n    { x: 160, y: 622 },\n    { x: 155, y: 602 },\n  ],\n  [\n    { x: 150, y: 590 },\n    { x: 132, y: 589 },\n  ],\n];\n\nexport const [sharkParts, swanParts] = [\n  sharkPointsTuples,\n  swanPointsTuples,\n].map((tuples) => tuples.map(normalizePicturePart));\n","import { range } from 'lodash';\nimport Coord from '../../../types/Coord';\nimport PicturePart from '../../../types/PicturePart';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function getFrames(\n  pictureParts1: PicturePart[],\n  pictureParts2: PicturePart[],\n  framesAmount: number\n): PicturePart[][] {\n  const [points1, points2] = fixPointsAmountDifference(\n    pictureParts1.map((part) => part.points),\n    pictureParts2.map((part) => part.points)\n  );\n\n  const frames: PicturePart[][] = range(1, framesAmount + 1).map((frameCount) =>\n    points1\n      .map((pointsPair, i) =>\n        pointsPair.map((point, j) => ({\n          x:\n            point.x - ((point.x - points2[i][j].x) / framesAmount) * frameCount,\n          y:\n            point.y - ((point.y - points2[i][j].y) / framesAmount) * frameCount,\n        }))\n      )\n      .map((pointsPair) => ({ points: [pointsPair[0], pointsPair[1]] }))\n  );\n\n  return [pictureParts1, ...frames, pictureParts2];\n}\n\nfunction fixPointsAmountDifference(\n  points1: Coord[][],\n  points2: Coord[][]\n): [Coord[][], Coord[][]] {\n  const diff = Math.abs(points1.length - points2.length);\n\n  return points1.length < points2.length\n    ? [[...points1.slice(0, diff), ...points1], points2]\n    : [points1, [...points2.slice(0, diff), ...points2]];\n}\n","import React, { FunctionComponent, useEffect, useState } from 'react';\nimport CustomCanvas from '../../CustomCanvas';\nimport PageWrapper from '../../PageWraper';\nimport PointModifier from '../../../types/PointModifier';\nimport DimensionsForm, { FormTab } from '../../DimensionsForm';\nimport exampleImage1 from '../../../assets/examples/example3-1.png';\nimport exampleImage2 from '../../../assets/examples/example3-2.png';\nimport LeftSideWrapper from '../../LeftSideWrapper';\nimport CheckboxesForm, {\n  CheckboxType,\n  FormCheckbox,\n} from '../../CheckboxesForm';\nimport Picture from './Picture';\nimport { sharkParts, swanParts } from './picturesParts';\nimport { getFrames } from './Lab3.service';\nimport PicturePart from '../../../types/PicturePart';\n\ninterface Props {\n  tabs: FormTab[];\n  onSelectTab(tabName: string | null): void;\n  canvasWidth: number;\n  canvasHeight: number;\n  modifiers?: PointModifier[];\n  isEnabledDragging?: boolean;\n  dndModifiers?: PointModifier[];\n  defaultCanvasElements?: JSX.Element;\n}\n\nconst framesAmount = 15;\nconst durationMillis = 500;\nconst intervalMillis = durationMillis / framesAmount;\n\nconst Lab3: FunctionComponent<Props> = ({\n  tabs,\n  onSelectTab,\n  canvasWidth,\n  canvasHeight,\n  modifiers,\n  isEnabledDragging,\n  dndModifiers,\n  defaultCanvasElements,\n}) => {\n  const [isEnabledSupportingLines, setEnabledSupportingLines] = useState(false);\n  const [sharkOrSwan, setSharkOrSwan] = useState(false);\n  const [framesCounter, setFramesCounter] = useState(-1);\n  const [parts, setParts] = useState(sharkOrSwan ? swanParts : sharkParts);\n  const [currentInterval, setCurrentInterval] = useState<NodeJS.Timer>();\n  const [frames, setFrames] = useState<PicturePart[][]>([]);\n\n  useEffect(() => {\n    if (sharkOrSwan) {\n      setFrames(getFrames(parts, swanParts, framesAmount));\n    } else {\n      setFrames(getFrames(parts, sharkParts, framesAmount));\n    }\n    // We need to calculate only with start points. If we will add 'points' according to eslint,\n    // it will recalculate frames with new value every time when we will change the frame.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sharkOrSwan]);\n\n  const enableAnimation = () => {\n    let i = 0;\n    const interval = setInterval(() => {\n      setFramesCounter(i);\n      i += 1;\n    }, intervalMillis);\n    setCurrentInterval(interval);\n  };\n\n  useEffect(() => {\n    if (framesCounter < 0) {\n      return;\n    }\n\n    setParts(frames[framesCounter]);\n\n    if (framesCounter + 1 === framesAmount + 2) {\n      setFramesCounter(-1);\n      if (currentInterval) {\n        clearInterval(currentInterval);\n      }\n    }\n  }, [currentInterval, frames, framesCounter]);\n\n  const checkboxes: FormCheckbox[] = [\n    {\n      title: 'Supporting lines',\n      value: isEnabledSupportingLines,\n      setValue: setEnabledSupportingLines,\n    },\n    {\n      title: 'Shark/Swan',\n      value: sharkOrSwan,\n      setValue: setSharkOrSwan,\n      type: CheckboxType.SWITCH,\n      onClick: enableAnimation,\n      disabled: framesCounter !== -1,\n    },\n  ];\n\n  return (\n    <PageWrapper>\n      <LeftSideWrapper>\n        <DimensionsForm tabs={tabs} onSelect={onSelectTab} />\n        <CheckboxesForm checkboxes={checkboxes} />\n      </LeftSideWrapper>\n      <CustomCanvas width={canvasWidth} height={canvasHeight}>\n        <Picture\n          parts={parts}\n          setParts={setParts}\n          modifiers={modifiers}\n          dndModifiers={dndModifiers}\n          isEnabledDragging={isEnabledDragging}\n          isEnabledSupportingLines={isEnabledSupportingLines}\n        />\n        {defaultCanvasElements}\n      </CustomCanvas>\n      <div>\n        <img src={exampleImage1} alt=\"example\" style={{ width: '100%' }} />\n        <img src={exampleImage2} alt=\"example\" style={{ width: '100%' }} />\n      </div>\n    </PageWrapper>\n  );\n};\n\nexport default Lab3;\n","import Coord from '../../../types/Coord';\nimport { Line } from '../../modifiableKonvaShapes/ModifiableLine';\n\ntype CoordSet = [number, number, number];\n\nfunction mapArrayToCoord([x, y, z]: number[]): Coord {\n  return { x, y, z };\n}\n\n// eslint-disable-next-line import/prefer-default-export\nexport function getHouseLines({\n  L,\n  H,\n  R1,\n  R2,\n  W,\n}: {\n  L: number;\n  H: number;\n  R1: number;\n  R2: number;\n  W: number;\n}): Line[] {\n  const l = L / 2;\n  const h = H / 3;\n  const drl1 = (R1 - L) / 2;\n  const drl2 = (R2 - L) / 2;\n  const rl1 = l + drl1;\n  const rl2 = l + drl2;\n  const w = W / 2;\n  const Wl = W + l;\n\n  const coordSets: [CoordSet, CoordSet[]][] = [\n    // Floor 1\n    [\n      [-l, -h, -l],\n      [\n        [l, -h, -l],\n        [l, -h, l],\n        [-l, -h, l],\n        [-l, -h, -l],\n      ],\n    ],\n    // Floor 2\n    [\n      [-l, h, -l],\n      [\n        [-w, h * 2 - W, -l],\n        [w, h * 2 - W, -l],\n        [l, h, -l],\n        [l, h, -rl1],\n        [Wl, h, -rl1],\n        [Wl, h, rl1],\n        [l, h, rl1],\n        [l, h, l],\n        [w, h * 2 - W, l],\n        [-w, h * 2 - W, l],\n        [-l, h, l],\n        [-l, h, rl1],\n        [-Wl, h, rl1],\n        [-Wl, h, -rl1],\n        [-l, h, -rl1],\n        [-l, h, -l],\n      ],\n    ],\n    [[-l, h, -l], [[-l, h, l]]],\n    [[l, h, -l], [[l, h, l]]],\n    // Floor 3\n    [\n      [-w, h * 2, -rl2],\n      [\n        [w, h * 2, -rl2],\n        [w, h * 2, rl2],\n        [-w, h * 2, rl2],\n        [-w, h * 2, -rl2],\n      ],\n    ],\n    // Between floors 1 and 2\n    [[-l, -h, -l], [[-l, h, -l]]],\n    [[l, -h, -l], [[l, h, -l]]],\n    [[l, -h, l], [[l, h, l]]],\n    [[-l, -h, l], [[-l, h, l]]],\n    // Between floors 2 and 3\n    [[-Wl, h, rl1], [[-w, h * 2, rl2]]],\n    [[Wl, h, rl1], [[w, h * 2, rl2]]],\n    [[-Wl, h, -rl1], [[-w, h * 2, -rl2]]],\n    [[Wl, h, -rl1], [[w, h * 2, -rl2]]],\n    [\n      [-l, h, rl1],\n      [\n        [-w, h * 2 - W, rl2],\n        [w, h * 2 - W, rl2],\n        [l, h, rl1],\n      ],\n    ],\n    [\n      [-l, h, -rl1],\n      [\n        [-w, h * 2 - W, -rl2],\n        [w, h * 2 - W, -rl2],\n        [l, h, -rl1],\n      ],\n    ],\n    [[-w, h * 2 - W, l], [[-w, h * 2 - W, rl2]]],\n    [[-w, h * 2 - W, -l], [[-w, h * 2 - W, -rl2]]],\n    [[w, h * 2 - W, l], [[w, h * 2 - W, rl2]]],\n    [[w, h * 2 - W, -l], [[w, h * 2 - W, -rl2]]],\n    // Door\n    [\n      [-l / 3, -h, l],\n      [\n        [-l / 3, 0, l],\n        [l / 3, 0, l],\n        [l / 3, -h, l],\n      ],\n    ],\n  ];\n\n  return coordSets.map(([from, to]) => ({\n    from: mapArrayToCoord(<number[]>from),\n    to: (<number[][]>to).map(mapArrayToCoord),\n  }));\n}\n","import React, { FunctionComponent } from 'react';\nimport PointModifier from '../../../types/PointModifier';\nimport ModifiableLine, {\n  Line,\n} from '../../modifiableKonvaShapes/ModifiableLine';\n\ninterface Props {\n  pictureLines: Line[];\n  modifiers?: PointModifier[];\n}\n\nconst Picture: FunctionComponent<Props> = ({ pictureLines, modifiers }) => (\n  <>\n    {pictureLines.map(({ from, to }) => (\n      <ModifiableLine from={from} to={to} modifiers={modifiers} />\n    ))}\n  </>\n);\n\nexport default Picture;\n","export default class UndefinedZCoordinateError extends Error {\n  constructor() {\n    super('Z coordinate is required but it is undefined.');\n  }\n}\n","import UndefinedZCoordinateError from '../../../errors/UndefinedZCoordinateError';\nimport PointModifier from '../../../types/PointModifier';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function bindCreateOnePointPerspective(\n  viewPoint: number\n): PointModifier {\n  return ({ x, y, z }) => {\n    if (z === undefined) {\n      throw new UndefinedZCoordinateError();\n    }\n\n    const r = 1 / viewPoint;\n    const t = -r * z + 1;\n\n    return {\n      x: x / t,\n      y: y / t,\n      z: 0,\n    };\n  };\n}\n","import React, { FunctionComponent, useEffect, useState } from 'react';\nimport CustomCanvas from '../../CustomCanvas';\nimport PageWrapper from '../../PageWraper';\nimport PointModifier from '../../../types/PointModifier';\nimport DimensionsForm, { FormTab } from '../../DimensionsForm';\nimport LeftSideWrapper from '../../LeftSideWrapper';\nimport { getHouseLines } from './picturesLines';\nimport Picture from './Picture';\nimport { bindCreateOnePointPerspective } from './Lab5.service';\n\nimport exampleImage from '../../../assets/examples/example5.png';\n\ninterface Props {\n  tabs: FormTab[];\n  onSelectTab(tabName: string | null): void;\n  canvasWidth: number;\n  canvasHeight: number;\n  step?: number;\n  modifiers?: PointModifier[];\n  defaultCanvasElements?: JSX.Element;\n  setCustomModifiers(modifiers: PointModifier[]): void;\n}\n\nconst Lab5: FunctionComponent<Props> = ({\n  tabs,\n  onSelectTab,\n  canvasWidth,\n  canvasHeight,\n  step,\n  modifiers,\n  defaultCanvasElements,\n  setCustomModifiers,\n}) => {\n  const [viewPoint, setViewPoint] = useState(1000);\n  const [L, setL] = useState(150);\n  const [H, setH] = useState(250);\n  const [R1, setR1] = useState(180);\n  const [R2, setR2] = useState(180);\n  const [W, setW] = useState(30);\n\n  useEffect(() => {\n    setCustomModifiers([bindCreateOnePointPerspective(viewPoint)]);\n  }, [setCustomModifiers, viewPoint]);\n\n  const tabName = 'Picture';\n\n  const allTabs: FormTab[] = [\n    ...tabs,\n    {\n      title: tabName,\n      inputsGroups: [\n        [\n          {\n            title: 'View point',\n            value: viewPoint,\n            step,\n            setValue: setViewPoint,\n          },\n        ],\n        [\n          { title: 'L', value: L, min: 0, step, setValue: setL },\n          { title: 'H', value: H, min: 0, step, setValue: setH },\n          { title: 'R1', value: R1, min: 0, step, setValue: setR1 },\n          { title: 'R2', value: R2, min: 0, step, setValue: setR2 },\n          { title: 'W', value: W, min: 0, step, setValue: setW },\n        ],\n      ],\n    },\n  ];\n\n  const houseLines = getHouseLines({ L, H, R1, R2, W });\n\n  return (\n    <PageWrapper>\n      <LeftSideWrapper>\n        <DimensionsForm\n          tabs={allTabs}\n          defaultTab={tabName}\n          onSelect={onSelectTab}\n        />\n      </LeftSideWrapper>\n      <CustomCanvas width={canvasWidth} height={canvasHeight}>\n        <Picture pictureLines={houseLines} modifiers={modifiers} />\n        {defaultCanvasElements}\n      </CustomCanvas>\n      <div>\n        <img src={exampleImage} alt=\"example\" style={{ width: '100%' }} />\n      </div>\n    </PageWrapper>\n  );\n};\n\nexport default Lab5;\n","import React, { FunctionComponent, useEffect, useMemo, useState } from 'react';\nimport { HashRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport Grid from '../Grid';\nimport './App.css';\nimport Axes from '../Axes';\nimport { FormTab } from '../DimensionsForm';\nimport Coord from '../../types/Coord';\nimport PointModifier from '../../types/PointModifier';\nimport Affine from '../../types/Affine';\nimport Projective from '../../types/Projective';\nimport {\n  bindNormalizeVectorValueToAxesMaxCoord,\n  bindOffsetPoint,\n  bindRotatePointByDegreesWithPivot,\n  bindInvertY,\n  bindAffinePoint,\n  bindProjectivePoint,\n} from './App.service';\nimport Lab1 from '../labsPages/Lab1';\nimport Header from '../Header';\nimport Lab2 from '../labsPages/Lab2';\nimport Pivot from '../Pivot';\nimport Lab3 from '../labsPages/Lab3/Lab3';\nimport ModifiableDndOptions from '../modifiableKonvaShapes/ModifiableDndOptions';\nimport Lab5 from '../labsPages/Lab5';\n\nconst canvasWidth = 800;\nconst canvasHeight = 800;\nconst canvasCenter: Coord = { x: canvasWidth / 2, y: canvasHeight / 2 };\n\nconst defaultAxesModifiers = [bindInvertY(), bindOffsetPoint(canvasCenter)];\n\nconst normalizeVectorValue = bindNormalizeVectorValueToAxesMaxCoord(\n  canvasCenter\n);\n\nconst App: FunctionComponent = () => {\n  const [currentTabName, setCurrentTabName] = useState<string | null>();\n  const [isEnabledDragging, setEnabledDragging] = useState(true);\n  const [cellLength, setCellLength] = useState(25);\n  const [step, setStep] = useState(5);\n  const [offset, setOffset] = useState<Coord>({ x: 0, y: 0 });\n  const [rotateDegrees, setRotateDegrees] = useState(0);\n  const [pivot, setPivot] = useState<Coord>({ x: 0, y: 0 });\n  const [affine, setAffine] = useState<Affine>({\n    r0: { x: 0, y: 0 },\n    rX: { x: canvasCenter.x, y: 0 },\n    rY: { x: 0, y: canvasCenter.y },\n  });\n  const normalizedAffine = useMemo<Affine>(\n    () => ({\n      ...affine,\n      rX: normalizeVectorValue(affine.rX),\n      rY: normalizeVectorValue(affine.rY),\n    }),\n    [affine]\n  );\n  const [projective, setProjective] = useState<Projective>({\n    r0: { x: 0, y: 0 },\n    rX: { x: 800, y: 0 },\n    rY: { x: 0, y: 800 },\n    w0: 800,\n    w: { x: canvasCenter.x, y: canvasCenter.y },\n  });\n  const normalizedProjective = useMemo<Projective>(\n    () => ({\n      ...projective,\n      w: normalizeVectorValue(projective.w),\n    }),\n    [projective]\n  );\n  const normalizedProjectiveForAxes = useMemo<Affine>(\n    () => ({\n      ...projective,\n      rX: normalizeVectorValue(projective.rX),\n      rY: normalizeVectorValue(projective.rY),\n    }),\n    [projective]\n  );\n\n  const [axesModifiers, setAxesModifiers] = useState<PointModifier[]>(\n    defaultAxesModifiers\n  );\n  const [gridModifiers, setGridModifiers] = useState<PointModifier[]>(\n    defaultAxesModifiers\n  );\n  const [customModifiers, setCustomModifiers] = useState<PointModifier[]>([]);\n  const shapeModifiers = useMemo<PointModifier[]>(\n    () => [\n      bindOffsetPoint(offset),\n      bindRotatePointByDegreesWithPivot(rotateDegrees, pivot),\n      ...customModifiers,\n      ...gridModifiers,\n    ],\n    [customModifiers, gridModifiers, offset, pivot, rotateDegrees]\n  );\n\n  const defaultDndModifiers: PointModifier[] = [\n    bindOffsetPoint({ x: -canvasCenter.x, y: -canvasCenter.y }),\n    bindInvertY(),\n  ];\n  const pivotDndModifiers: PointModifier[] = defaultDndModifiers;\n  const shapeDndModifiers: PointModifier[] = [\n    ...defaultDndModifiers,\n    bindRotatePointByDegreesWithPivot(-rotateDegrees, pivot),\n    bindOffsetPoint({ x: -offset.x, y: -offset.y }),\n  ];\n\n  const linearTransformationTabs: Record<string, FormTab> = {\n    common: {\n      title: 'Common',\n      inputsGroups: [\n        [\n          {\n            title: 'Cell length',\n            value: cellLength,\n            min: 1,\n            setValue: setCellLength,\n          },\n          {\n            title: 'Input step',\n            value: step,\n            min: 1,\n            setValue: setStep,\n          },\n        ],\n      ],\n    },\n    euclid: {\n      title: 'Euclid',\n      inputsGroups: [\n        [\n          {\n            title: 'X',\n            value: offset.x,\n            step,\n            setValue: (value) => setOffset({ ...offset, x: value }),\n          },\n          {\n            title: 'Y',\n            value: offset.y,\n            step,\n            setValue: (value) => setOffset({ ...offset, y: value }),\n          },\n        ],\n        [\n          {\n            title: 'Rotate',\n            value: rotateDegrees,\n            step,\n            unit: 'deg',\n            setValue: setRotateDegrees,\n          },\n          {\n            title: 'Pivot X',\n            value: pivot.x,\n            step,\n            setValue: (value) => setPivot({ ...pivot, x: value }),\n          },\n          {\n            title: 'Pivot Y',\n            value: pivot.y,\n            step,\n            setValue: (value) => setPivot({ ...pivot, y: value }),\n          },\n        ],\n      ],\n    },\n    affine: {\n      title: 'Affine',\n      inputsGroups: [\n        [\n          {\n            title: 'r0x',\n            value: affine.r0.x,\n            step,\n            setValue: (value) =>\n              setAffine({ ...affine, r0: { ...affine.r0, x: value } }),\n          },\n          {\n            title: 'r0y',\n            value: affine.r0.y,\n            step,\n            setValue: (value) =>\n              setAffine({ ...affine, r0: { ...affine.r0, y: value } }),\n          },\n        ],\n        [\n          {\n            title: 'rXx',\n            value: affine.rX.x,\n            step,\n            setValue: (value) =>\n              setAffine({ ...affine, rX: { ...affine.rX, x: value } }),\n          },\n          {\n            title: 'rXy',\n            value: affine.rX.y,\n            step,\n            setValue: (value) =>\n              setAffine({ ...affine, rX: { ...affine.rX, y: value } }),\n          },\n        ],\n        [\n          {\n            title: 'rYx',\n            value: affine.rY.x,\n            step,\n            setValue: (value) =>\n              setAffine({ ...affine, rY: { ...affine.rY, x: value } }),\n          },\n          {\n            title: 'rYy',\n            value: affine.rY.y,\n            step,\n            setValue: (value) =>\n              setAffine({ ...affine, rY: { ...affine.rY, y: value } }),\n          },\n        ],\n      ],\n    },\n    projective: {\n      title: 'Projective',\n      inputsGroups: [\n        [\n          {\n            title: 'r0x',\n            value: projective.r0.x,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                r0: { ...projective.r0, x: value },\n              }),\n          },\n          {\n            title: 'r0y',\n            value: projective.r0.y,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                r0: { ...projective.r0, y: value },\n              }),\n          },\n        ],\n        [\n          {\n            title: 'rXx',\n            value: projective.rX.x,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                rX: { ...projective.rX, x: value },\n              }),\n          },\n          {\n            title: 'rXy',\n            value: projective.rX.y,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                rX: { ...projective.rX, y: value },\n              }),\n          },\n        ],\n        [\n          {\n            title: 'rYx',\n            value: projective.rY.x,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                rY: { ...projective.rY, x: value },\n              }),\n          },\n          {\n            title: 'rYy',\n            value: projective.rY.y,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                rY: { ...projective.rY, y: value },\n              }),\n          },\n        ],\n        [\n          {\n            title: 'w0',\n            value: projective.w0,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                w0: value,\n              }),\n          },\n          {\n            title: 'wx',\n            value: projective.w.x,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                w: { ...projective.w, x: value },\n              }),\n          },\n          {\n            title: 'wy',\n            value: projective.w.y,\n            step,\n            setValue: (value) =>\n              setProjective({\n                ...projective,\n                w: { ...projective.w, y: value },\n              }),\n          },\n        ],\n      ],\n    },\n  };\n\n  useEffect(() => {\n    // We should enable affine and projective transformation only on their own tab\n    // Also disable canvas objects dragging on this tabs\n    if (currentTabName === linearTransformationTabs.projective.title) {\n      setAxesModifiers([\n        bindAffinePoint(normalizedProjectiveForAxes),\n        ...defaultAxesModifiers,\n      ]);\n      setGridModifiers([\n        bindProjectivePoint(normalizedProjective),\n        ...defaultAxesModifiers,\n      ]);\n      setEnabledDragging(false);\n    } else if (currentTabName === linearTransformationTabs.affine.title) {\n      setAxesModifiers([\n        bindAffinePoint(normalizedAffine),\n        ...defaultAxesModifiers,\n      ]);\n      setGridModifiers([\n        bindAffinePoint(normalizedAffine),\n        ...defaultAxesModifiers,\n      ]);\n      setEnabledDragging(false);\n    } else {\n      setAxesModifiers(defaultAxesModifiers);\n      setGridModifiers(defaultAxesModifiers);\n      setEnabledDragging(true);\n    }\n  }, [\n    currentTabName,\n    normalizedProjective,\n    linearTransformationTabs.affine.title,\n    linearTransformationTabs.projective.title,\n    normalizedProjectiveForAxes,\n    normalizedAffine,\n  ]);\n\n  const defaultCanvasElements = (\n    <>\n      <Grid\n        maxCoord={canvasCenter}\n        cellLength={cellLength}\n        modifiers={gridModifiers}\n      />\n      <Axes maxCoord={canvasCenter} modifiers={axesModifiers} />\n      <Pivot\n        position={pivot}\n        modifiers={gridModifiers}\n        dndOptions={\n          new ModifiableDndOptions({\n            draggable: isEnabledDragging,\n            onDragMove: setPivot,\n            modifiers: pivotDndModifiers,\n          })\n        }\n      />\n    </>\n  );\n\n  const defaultLabProps = {\n    tabs: Object.values(linearTransformationTabs),\n    onSelectTab: setCurrentTabName,\n    maxCoord: canvasCenter,\n    canvasWidth,\n    canvasHeight,\n    step,\n    modifiers: shapeModifiers,\n    dndModifiers: shapeDndModifiers,\n    isEnabledDragging,\n    defaultCanvasElements,\n    setCustomModifiers,\n  };\n\n  const lab1 = <Lab1 {...defaultLabProps} />;\n  const lab2 = <Lab2 {...defaultLabProps} />;\n  const lab3 = <Lab3 {...defaultLabProps} />;\n  const lab5 = <Lab5 {...defaultLabProps} />;\n\n  return (\n    <>\n      <Header />\n      <HashRouter basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route exact path=\"/lab1\">\n            {lab1}\n          </Route>\n          <Route exact path=\"/lab2\">\n            {lab2}\n          </Route>\n          <Route exact path=\"/lab3\">\n            {lab3}\n          </Route>\n          <Route exact path=\"/lab5\">\n            {lab5}\n          </Route>\n          <Redirect exact from=\"/\" to=\"/lab1\" />\n        </Switch>\n      </HashRouter>\n    </>\n  );\n};\n\nexport default App;\n","/* eslint-disable */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './util/serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/example1.77bc0699.png\";","module.exports = __webpack_public_path__ + \"static/media/example2.05d06b9f.png\";","module.exports = __webpack_public_path__ + \"static/media/example3-1.522d1858.png\";","module.exports = __webpack_public_path__ + \"static/media/example3-2.fd2d8f7f.png\";","module.exports = __webpack_public_path__ + \"static/media/example5.11a0b083.png\";"],"sourceRoot":""}